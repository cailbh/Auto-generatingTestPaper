{"remainingRequest":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\babel-loader\\lib\\index.js!D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\src\\components\\proConSankey\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\src\\components\\proConSankey\\index.vue","mtime":1703081770003},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\babel.config.js","mtime":1647570572000},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681618859467},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\babel-loader\\lib\\index.js","mtime":1681618859957},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681618859467},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\vue-loader\\lib\\index.js","mtime":1681618860114}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubGluay5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCB7IHBhcmFtIH0gZnJvbSAnc2VydmVyL2FwaSc7CmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJzsKaW1wb3J0ICogYXMgZDNTYW5rZXkgZnJvbSAnZDMtc2Fua2V5JzsKaW1wb3J0IHsgb25Nb3VudGVkLCByZWYgfSBmcm9tICd2dWUnOwppbXBvcnQgZmlsZW5hbWVzIGZyb20gIkAvdXRpbHMvZmlsZU5hbWUiOwppbXBvcnQgZG9tdG9pbWFnZSBmcm9tICdkb20tdG8taW1hZ2UnOyAvLyBpbXBvcnQgVGVzdEpzb24gZnJvbSAiQC9hc3NldHMvanNvbi9jYXNlMl9maW4uanNvbiI7Ci8vIGltcG9ydCBUZXN0UmVsSnNvbiBmcm9tICJAL2Fzc2V0cy9qc29uL2Nhc2UyX2Zpbl9yZWwuanNvbiI7CgppbXBvcnQgQ2lyY2xlIGZyb20gJ0AvdXRpbHMvZ2VvbWV0cnkvY2lyY2xlJzsKaW1wb3J0IHRvb2xzIGZyb20gIkAvdXRpbHMvdG9vbHMuanMiOyAvLyBpbXBvcnQgIkAvdXRpbHMvc2Fua2V5LmpzIjsKCmltcG9ydCBkcmF3VG9vbHMgZnJvbSAiQC91dGlscy9kcmF3aW5nVG9vbHMuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsidG9vbHNTdGF0ZSJdLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9OYW1lOiAnJywKICAgICAgQ29uY2VwdE9yaTogJycsCiAgICAgIHNhbmtleU5vZGVEYXRhOiAnJywKICAgICAgc2Fua2V5TGlua0RhdGE6ICcnLAogICAgICBjdXJQYXBlclNhbmtleURhdGE6ICIiLAogICAgICBzYW5rZXlEYXRhOiAnJywKICAgICAgYWxsUHJvYmxlbXM6ICcnLAogICAgICBhbGxDb25jZXB0czogJycsCiAgICAgIGFsbFByb0luQ29uR1BUU2Fua2V5RGF0YTogJycsCiAgICAgIGFsbHByb0NvblNhbmtleURhdGE6ICcnLAogICAgICBwcm9UeXBlOiAiIiwKICAgICAgc2VsZWN0OiAnJywKICAgICAgcHJvRm9ybTogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHR5cGU6ICIiLAogICAgICAgIGNvbnRlbnQ6ICIiCiAgICAgIH0sCiAgICAgIGF0dHJDb2xvcmxpc3Q6IFtdLAogICAgICByb290U3ZnOiAnJywKICAgICAgd2lkdGg6IDAsCiAgICAgIGhlaWdodDogMCwKICAgICAgdGhpc0lkOiAxMCwKICAgICAgbWFyZ2luOiB7CiAgICAgICAgdG9wOiA1LAogICAgICAgIHJpZ2h0OiA1LAogICAgICAgIGJvdHRvbTogNSwKICAgICAgICBsZWZ0OiA1CiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgdHlwZTogZnVuY3Rpb24gdHlwZSh2YWwpIHt9LAogICAgdG9vbEFkZFJlbDogZnVuY3Rpb24gdG9vbEFkZFJlbCh2YWwpIHt9LAogICAgdG9vbHNTdGF0ZTogewogICAgICBkZWVwOiB0cnVlLAogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgICAgdGhpcy50b29sQWRkUmVsID0gdmFsWydhZGRSZWwnXTsKICAgICAgICB0aGlzLnRvb2xBZGRSZWxNYWluID0gdmFsWydhZGRSZWxNYWluJ107CiAgICAgICAgdGhpcy50b29sRGVsUmVsID0gdmFsWydkZWxSZWwnXTsKICAgICAgfQogICAgfSwKICAgIC8vIHNhbmtleURhdGE6IHsKICAgIC8vICAgZGVlcDogdHJ1ZSwKICAgIC8vICAgaGFuZGxlcih2YWwpIHsKICAgIC8vICAgICBjb25zb2xlLmxvZyh2YWwpCiAgICAvLyAgICAgdGhpcy51cGRhdGFBbGwoKTsKICAgIC8vICAgfQogICAgLy8gfSwKICAgIHNhbmtleU5vZGVEYXRhOiBmdW5jdGlvbiBzYW5rZXlOb2RlRGF0YSgpIHsKICAgICAgdGhpcy51cGRhdGFBbGwoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEFsbFNhbmtleURhdGE6IGZ1bmN0aW9uIGdldEFsbFNhbmtleURhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vICAgX3RoaXMuc2Fua2V5RGF0YSA9ewogICAgICAvLyAgICAgIm5vZGVzIjogWwogICAgICAvLyAgICAgICB7ICJuYW1lIjogIkEiIH0sCiAgICAgIC8vICAgICAgIHsgIm5hbWUiOiAiQiIgfSwKICAgICAgLy8gICAgICAgeyAibmFtZSI6ICJDIiB9LAogICAgICAvLyAgICAgICB7ICJuYW1lIjogIkQiIH0sCiAgICAgIC8vICAgICAgIF0sCiAgICAgIC8vICAgImxpbmtzIjogWwogICAgICAvLyAgICAgeydzb3VyY2UnOjAsJ3RhcmdldCc6MiwndmFsdWUnOiIxMTAifSwKICAgICAgLy8gICAgIHsnc291cmNlJzowLCd0YXJnZXQnOjMsJ3ZhbHVlJzoiNSJ9LAogICAgICAvLyAgICAgeydzb3VyY2UnOjEsJ3RhcmdldCc6MiwndmFsdWUnOiI0In0sCiAgICAgIC8vICAgICB7J3NvdXJjZSc6MSwndGFyZ2V0JzozLCd2YWx1ZSc6IjIifSwKICAgICAgLy8gICBdCiAgICAgIC8vIH0KCgogICAgICB0aGlzLiRodHRwLmdldCgiL2FwaS9zYW5rZXlEYXRhIiwgewogICAgICAgIHBhcmFtczoge30KICAgICAgfSwge30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuc2Fua2V5TGlua0RhdGEgPSByZXNwb25zZS5ib2R5OwoKICAgICAgICBfdGhpcy5nZXRBbGxTYW5rZXlOb2RlRGF0YSgpOwogICAgICB9KTsgLy8gdGhpcy4kaHR0cAogICAgICAvLyAgIC5nZXQoIi9hcGkvY29uY2VwdC9hbGxwcm9Db25TYW5rZXlEYXRhIiwgeyBwYXJhbXM6IHt9IH0sIHt9KQogICAgICAvLyAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAvLyAgICAgX3RoaXMuYWxscHJvQ29uU2Fua2V5RGF0YSA9IHJlc3BvbnNlLmJvZHk7CiAgICAgIC8vICAgICBjb25zb2xlLmxvZygiYWxscHJvQ29uU2Fua2V5RGF0YSIscmVzcG9uc2UuYm9keSk7CiAgICAgIC8vICAgICAvLyBfdGhpcy5hbGxSZWxhdGlvbnNoaXBzID0gcmVzcG9uc2UuYm9keTsKICAgICAgLy8gICAgIC8vIF90aGlzLmRyYXduZXRQRGF0YSgpOwogICAgICAvLyAgIH0pOwogICAgfSwKICAgIGdldEFsbFNhbmtleU5vZGVEYXRhOiBmdW5jdGlvbiBnZXRBbGxTYW5rZXlOb2RlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBub2RlcyA9IFtdOwogICAgICB2YXIgY29uT3JpID0gX3RoaXMuQ29uY2VwdE9yaTsKICAgICAgdmFyIHNhbmtleUxpbmtEYXRhID0gX3RoaXMuc2Fua2V5TGlua0RhdGE7CiAgICAgIHZhciBqID0gMDsKICAgICAgdmFyIG1heCA9IDA7CgogICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgY29uT3JpLmxlbmd0aDsgX2krKykgewogICAgICAgIG5vZGVzLnB1c2goY29uT3JpW19pXSk7CiAgICAgICAgaisrOwogICAgICB9CgogICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBzYW5rZXlMaW5rRGF0YS5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgdmFyIHRhcmdldCA9IHNhbmtleUxpbmtEYXRhW19pMl1bJ3RhcmdldCddOwoKICAgICAgICBpZiAodGFyZ2V0ID4gbWF4KSB7CiAgICAgICAgICBtYXggPSB0YXJnZXQ7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgaSA9IDA7CiAgICAgIGNvbnNvbGUubG9nKGNvbk9yaSwgMjEzMTMxMywgaiwgbWF4LCBub2Rlcyk7CgogICAgICB3aGlsZSAoaiA8PSBtYXgpIHsKICAgICAgICBub2Rlcy5wdXNoKHsKICAgICAgICAgICJuYW1lIjogImNvbiIuY29uY2F0KGkpCiAgICAgICAgfSk7CiAgICAgICAgaSsrOwogICAgICAgIGorKzsKICAgICAgfQoKICAgICAgX3RoaXMuc2Fua2V5Tm9kZURhdGEgPSBub2RlczsKICAgIH0sCiAgICBkcmF3UHJvQ29uU2Fua2V5OiBmdW5jdGlvbiBkcmF3UHJvQ29uU2Fua2V5KHN2ZykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1hcmdpbiA9IF90aGlzLm1hcmdpbjsKICAgICAgdmFyIHBzdmcgPSBzdmc7CiAgICAgIHZhciB3aWR0aCA9IHBzdmcuYXR0cigid2lkdGgiKTsKICAgICAgdmFyIGhlaWdodCA9IHBzdmcuYXR0cigiaGVpZ2h0Iik7CiAgICAgIHBzdmcuc2VsZWN0KCIjbmV0UEciKS5yZW1vdmUoKTsgLy8gbGV0IHByb2cgPSBwc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgIm5ldFBHIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsKCiAgICAgIHZhciBncm91cHMgPSBzdmcuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAicHJvQ29uU2Fua2V5R3JvdXBzIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsgLy8gLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIGdyYXBoR1RyYW5zZm9ybVggKyAnLCcgKyBncmFwaEdUcmFuc2Zvcm1ZICsgIikgc2NhbGUoIiArIGdyYXBoR1RyYW5zZm9ybUsgKyAiKSIpOwogICAgICAvLyB0aGlzLmdyb3Vwc1N2ZyA9IGdyb3VwczsKCiAgICAgIHZhciBiYWNrRyA9IGdyb3Vwcy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJwcm9Db25TYW5rZXliYWNrRyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7CiAgICAgIHZhciBhcmNHID0gZ3JvdXBzLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgInByb0NvblNhbmtleWFyY0ciKS5hdHRyKCJ3aWR0aCIsIHdpZHRoKS5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOwogICAgICB2YXIgcmVsRyA9IGdyb3Vwcy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJwcm9Db25TYW5rZXlyZWxHIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsKICAgICAgdmFyIGVudEcgPSBncm91cHMuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAicHJvQ29uU2Fua2V5ZW50RyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7CiAgICAgIHZhciBmcm9udEcgPSBncm91cHMuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAicHJvQ29uU2Fua2V5ZnJvbnRHIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsgLy8gbGV0IHNjYXR0ZXJEYXRhID0gX3RoaXMuc2NhdHRlckRhdGE7CiAgICAgIC8vIGxldCB4TWF4TWluRFIgPSB0b29scy5nZXRNYXhNaW4oc2NhdHRlckRhdGEsICd4Jyk7CiAgICAgIC8vIGxldCB5TWF4TWluRFIgPSB0b29scy5nZXRNYXhNaW4oc2NhdHRlckRhdGEsICd5Jyk7CiAgICAgIC8vIGxldCBzY2F0dGVyeExpbmVhciA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFt4TWF4TWluRFJbMV0sIHhNYXhNaW5EUlswXV0pLnJhbmdlKFswLCB3aWR0aF0pOwogICAgICAvLyBsZXQgc2NhdHRlcnlMaW5lYXIgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbeU1heE1pbkRSWzFdLCB5TWF4TWluRFJbMF1dKS5yYW5nZShbMCwgaGVpZ2h0IC8gMl0pOwoKICAgICAgdmFyIGNvbG9yTGlzdCA9IF90aGlzLmF0dHJDb2xvcmxpc3Q7CiAgICAgIHZhciBub2RlID0gX3RoaXMuc2Fua2V5Tm9kZURhdGE7CiAgICAgIHZhciBsayA9IF90aGlzLnNhbmtleUxpbmtEYXRhOwogICAgICB2YXIgbWFyZ2UgPSBfdGhpcy5tYXJnaW47CgogICAgICB2YXIgbm9kZVNvcnQgPSBmdW5jdGlvbiBub2RlU29ydChhLCBiKSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH07CgogICAgICB2YXIgc2Fua2V5ID0gZDNTYW5rZXkuc2Fua2V5KCkubm9kZVdpZHRoKDUwKSAvL+avj+S4qui1hOa6kOWdl+eahOawtOW5s+WDj+e0oOWuveW6pgogICAgICAubm9kZVBhZGRpbmcoMCkgLy/otYTmupDlnZfpl7TnmoTnurXlkJHpl7Tot50KICAgICAgLy8gLm5vZGVBbGlnbihkM1NhbmtleS5zYW5rZXlMZWZ0KSAKICAgICAgLm5vZGVTb3J0KG5vZGVTb3J0KS5zaXplKFt3aWR0aCwgaGVpZ2h0ICogMC45NV0pOwoKICAgICAgdmFyIF9zYW5rZXkgPSBzYW5rZXkoewogICAgICAgIG5vZGVzOiBub2RlLm1hcChmdW5jdGlvbiAoZCkgewogICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIGQpOwogICAgICAgIH0pLAogICAgICAgIGxpbmtzOiBsay5tYXAoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBkKTsKICAgICAgICB9KQogICAgICB9KSwKICAgICAgICAgIG5vZGVzID0gX3NhbmtleS5ub2RlcywKICAgICAgICAgIGxpbmtzID0gX3NhbmtleS5saW5rczsgLy8gdmFyIHBhdGggPSBzYW5rZXkubGluaygpOwoKCiAgICAgIHZhciBsaW5rID0gc3ZnLmFwcGVuZCgiZyIpLnNlbGVjdEFsbCgiLmxpbmsiKS5kYXRhKGxpbmtzKS5lbnRlcigpLmFwcGVuZCgicGF0aCIpLmF0dHIoImNsYXNzIiwgImxpbmsiKS5hdHRyKCJpZCIsICJzYW4iKS5hdHRyKCJmaWxsIiwgInJnYmEoMjU1LCAwLCAwLDApIikuYXR0cigic3Ryb2tlIiwgInJnYmEoMTMyLCAxMzIsIDEzMiwwLjMpIikuYXR0cigic3Ryb2tlLXdpZHRoIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC53aWR0aDsKICAgICAgfSkuc3R5bGUoIm1peC1ibGVuZC1tb2RlIiwgIm11bHRpcGx5IikuYXR0cigiZCIsIGQzU2Fua2V5LnNhbmtleUxpbmtIb3Jpem9udGFsKCkpIC8v6ZO+5o6l55qE6Lev5b6E6K6+572u5bey57uP6KKrc2Fua2V55bCB6KOF5LqG77yM6L+Z6YeM6LCD55So5LmL5ZCO5bCx5Y+v5Lul55Sf5oiQ6L+e57q/5ZGi55qE6Lev5b6ECiAgICAgIC8v5LiL6Z2i6L+Z5Y+l55Sf5oiQ57q/55qE5a695bqm77yMLy/nur/nmoTlrr3luqbmjInnhafnur/nq6/ngrnkuKTnq6/lnZfovoPlsI/ogIXmianlrr3vvIzkvYbkuLrllaXlgY/np7ttYXgoMSwgZC5kee+8ie+8nwogICAgICAvLyAuc3R5bGUoInN0cm9rZS13aWR0aCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgIC8vICAgcmV0dXJuIE1hdGgubWF4KDEsIGQuZHkpOwogICAgICAvLyB9KQogICAgICAvLyAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuICJ0cmFuc2xhdGUoIiArIG1hcmdlLmxlZnQgKyAiLCIgKyBtYXJnZS50b3AgKyAiKSI7IH0pCiAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGIuZHkgLSBhLmR5OwogICAgICB9KTsgLy/ov5nlj6XljrvmjonmlYjmnpzkuIDmoLfkuI3nn6XkuLrllaXvvJ8KICAgICAgLy8oNSlzYW5rZXnorr7nva7pk77mjqXmj5DnpLoKCiAgICAgIGxpbmsuYXBwZW5kKCJ0aXRsZSIpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5zb3VyY2UubmFtZSArICIg4oaSICIgKyBkLnRhcmdldC5uYW1lICsgIlxuIiArIGQudmFsdWU7CiAgICAgIH0pOwogICAgICB2YXIgZ3JhZGllbnQgPSBsaW5rLmFwcGVuZCgibGluZWFyR3JhZGllbnQiKSAvLyAuYXR0cigiaWQiLCBkID0+IChkLnVpZCA9IERPTS51aWQoImxpbmsiKSkuaWQpCiAgICAgIC5hdHRyKCJncmFkaWVudFVuaXRzIiwgInVzZXJTcGFjZU9uVXNlIikuYXR0cigieDEiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnNvdXJjZS54MTsKICAgICAgfSkuYXR0cigieDIiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLnRhcmdldC54MDsKICAgICAgfSk7CiAgICAgIGdyYWRpZW50LmFwcGVuZCgic3RvcCIpLmF0dHIoIm9mZnNldCIsICIwJSIpLmF0dHIoInN0b3AtY29sb3IiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBjb2xvckxpc3RbcGFyc2VJbnQoZC5zb3VyY2UuY2F0ZWdvcnkpICUgY29sb3JMaXN0Lmxlbmd0aF07CiAgICAgIH0pOwogICAgICBncmFkaWVudC5hcHBlbmQoInN0b3AiKS5hdHRyKCJvZmZzZXQiLCAiMTAwJSIpLmF0dHIoInN0b3AtY29sb3IiLCBmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBjb2xvckxpc3RbcGFyc2VJbnQoZC50YXJnZXQuY2F0ZWdvcnkpICUgY29sb3JMaXN0Lmxlbmd0aF07CiAgICAgIH0pOyAvLyg2KeaLluWKqAoKICAgICAgdmFyIG5vZGUgPSBzdmcuYXBwZW5kKCJnIikuc2VsZWN0QWxsKCIubm9kZSIpLmRhdGEobm9kZXMpLmVudGVyKCkuYXBwZW5kKCJnIikuYXR0cigiY2xhc3MiLCAibm9kZSIpIC8vIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gInRyYW5zbGF0ZSgiICsgZC54ICsgIiwiICsgZC55ICsgIikiOyB9KQogICAgICAuY2FsbChkMy5kcmFnKCkub24oImRyYWciLCBkcmFnbW92ZSkpOyAvLyg3KeWdlwoKICAgICAgbm9kZS5hcHBlbmQoInJlY3QiKS5hdHRyKCJpZCIsICJzYW4iKS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC54MDsKICAgICAgfSkuYXR0cigieSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQueTA7CiAgICAgIH0pLmF0dHIoImhlaWdodCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQueTEgLSBkLnkwOwogICAgICB9KS5hdHRyKCJ3aWR0aCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgdmFyIHJlY3RXaWR0aCA9IGQueDEgLSBkLngwOwoKICAgICAgICBpZiAoZC5pbmRleCA8PSAyNCkgewogICAgICAgICAgdmFyIGxheSA9IHBhcnNlSW50KGQubGF5KTsKICAgICAgICAgIHJlY3RXaWR0aCArPSByZWN0V2lkdGggLyAzICogKDEgLSBsYXkpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHJlY3RXaWR0aDsKICAgICAgfSkgLy8gLnRleHQoZCA9PiBgJHtkLm5hbWV9XG4ke2QudmFsdWUudG9Mb2NhbGVTdHJpbmcoKX1gKQogICAgICAvLyAuYXR0cigiaGVpZ2h0IiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZHk7IH0pCiAgICAgIC8vIC5hdHRyKCJ3aWR0aCIsIHNhbmtleS5ub2RlV2lkdGgoKSkvL+WImuaJjeiuvue9rueahOWdl+eahOWuveW6piAgCiAgICAgIC8vIC5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gInRyYW5zbGF0ZSgiICsgbWFyZ2UubGVmdCArICIsIiArIG1hcmdlLnRvcCArICIpIjsgfSkKICAgICAgLnN0eWxlKCJmaWxsIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICB2YXIgY29sb3JJbmRleCA9IHBhcnNlSW50KGQuaW5kZXggLSAyNSkgJSBjb2xvckxpc3QubGVuZ3RoOwoKICAgICAgICBpZiAoZC5pbmRleCA8PSAyNCkgewogICAgICAgICAgY29sb3JJbmRleCA9IHBhcnNlSW50KGQucm9vdEZhdGhlckluZGV4KTsKICAgICAgICB9IC8vIG5hID0gZC5uYW1lLnN1YnN0cigwLCBkLm5hbWUubGVuZ3RoIC0gMSkKICAgICAgICAvLyBpZiAobmEgPT0gJ29yaScpIHsKICAgICAgICAvLyAgIHJldHVybiBtY29sb3JbcGFyc2VJbnQoZC5uYW1lLnN1YnN0cigzKSkgLSAxXTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gZWxzZSB7CgoKICAgICAgICByZXR1cm4gY29sb3JMaXN0W2NvbG9ySW5kZXhdOyAvLyB9CiAgICAgIH0pIC8vIC5zdHlsZSgic3Ryb2tlIiwgZnVuY3Rpb24gKGQpIHsgCiAgICAgIC8vICAgaWYoZC5pbmRleDw9MjQpCiAgICAgIC8vICAgcmV0dXJuIGQzLnJnYihkLmNvbG9yKS5kYXJrZXIoMC4xKTsgfSkvL+i+g+a3sQogICAgICAuYXBwZW5kKCJ0aXRsZSIpLnRleHQoZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5uYW1lICsgIlxuIiArIGQudmFsdWU7CiAgICAgIH0pOyAvLyg4KeaWh+WtlwoKICAgICAgbm9kZS5hcHBlbmQoInRleHQiKS5hdHRyKCJ4IiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICB2YXIgcmVjdFdpZHRoID0gZC54MSAtIGQueDA7CgogICAgICAgIGlmIChkLmluZGV4IDw9IDI0KSB7CiAgICAgICAgICB2YXIgbGF5ID0gcGFyc2VJbnQoZC5sYXkpOwogICAgICAgICAgcmVjdFdpZHRoICs9IHJlY3RXaWR0aCAvIDMgKiAoMSAtIGxheSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZC54MCArIHJlY3RXaWR0aDsKICAgICAgfSkuYXR0cigieSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQueTAgKyAoZC55MSAtIGQueTApIC8gMjsKICAgICAgfSkuYXR0cigiZHkiLCAiLjM1ZW0iKS5hdHRyKCJpZCIsICJzYW4iKS5hdHRyKCJ0ZXh0LWFuY2hvciIsICJlbmQiKSAvL+aWh+Wtl+WcqOW3pui+ue+8iOS4rei9tOWPs+i+ueeahO+8iQogICAgICAuYXR0cigidHJhbnNmb3JtIiwgbnVsbCkudGV4dChmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiBkLm5hbWU7CiAgICAgIH0pIC8vIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQueCA8IHdpZHRoIC8gMjsgfSkvL+mZpOWOu+WcqOS4rei9tOW3pui+ueeahCAKICAgICAgLy8gLmF0dHIoIngiLCA2ICsgc2Fua2V5Lm5vZGVXaWR0aCgpKQogICAgICAuYXR0cigidGV4dC1hbmNob3IiLCAic3RhcnQiKTsgLy/mloflrZflnKjlj7PovrkKICAgICAgLy8gLmF0dHIoInRyYW5zZm9ybSIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiAidHJhbnNsYXRlKCIgKyBtYXJnZS5sZWZ0ICsgIiwiICsgbWFyZ2UudG9wICsgIikiOyB9KQogICAgICAvLyAoOSnmi5bliqgKCiAgICAgIGZ1bmN0aW9uIGRyYWdtb3ZlKGQpIHsKICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgZC54ICsgIiwiICsgKGQueSA9IC8v5LiL6Z2i55qE57q15Z2Q5qCH6LCD5pW05YC85piv5oCO5LmI6K6h566X55qE77yfCiAgICAgICAgTWF0aC5tYXgoMCwgTWF0aC5taW4oaGVpZ2h0IC0gZC5keSwgZDMuZXZlbnQueSkpKSArICIpIik7CiAgICAgICAgc2Fua2V5LnJlbGF5b3V0KCk7IC8v6YeN5paw5biD5bGALOe6v+S4iuS4i+eahOS9jee9ruiwg+aVtAoKICAgICAgICBsaW5rLmF0dHIoImQiLCBwYXRoKTsgLy/mm7TmlrDot6/lvoQKICAgICAgfQogICAgfSwKICAgIHVwZGF0YUFsbDogZnVuY3Rpb24gdXBkYXRhQWxsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1hcmdpbiA9IF90aGlzLm1hcmdpbjsKICAgICAgdmFyIHdpZHRoID0gX3RoaXMuJHJlZnMucHJvQ29uU2Fua2V5RGl2Lm9mZnNldFdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7CiAgICAgIHZhciBoZWlnaHQgPSBfdGhpcy4kcmVmcy5wcm9Db25TYW5rZXlEaXYub2Zmc2V0SGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207CiAgICAgIF90aGlzLndpZHRoID0gd2lkdGg7CiAgICAgIF90aGlzLmhlaWdodCA9IGhlaWdodDsKICAgICAgZDMuc2VsZWN0KCIjcHJvQ29uU2Fua2V5Q2FudGFpbiIpLnNlbGVjdCgic3ZnIikucmVtb3ZlKCk7CiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNwcm9Db25TYW5rZXlDYW50YWluIikuYXBwZW5kKCJzdmciKS5hdHRyKCJ3aWR0aCIsIHdpZHRoIC0gMCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0IC0gMCkuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLDApJykuc3R5bGUoInBvc2l0aW9uIiwgImFic29sdXRlIik7CiAgICAgIHZhciBlbnRHID0gc3ZnLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImVudEciKS5hdHRyKCJ3aWR0aCIsIHdpZHRoKS5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOwogICAgICB2YXIgc29uRyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJzb25HIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsKICAgICAgX3RoaXMucm9vdFN2ZyA9IHN2ZzsKCiAgICAgIF90aGlzLmRyYXdQcm9Db25TYW5rZXkoc3ZnKTsgLy8gfSk7CgogICAgfSwKICAgIGNsaWNrX0VudDogZnVuY3Rpb24gY2xpY2tfRW50KHRpbWUpIHsKICAgICAgdGhpcy4kZW1pdCgidGltZUR1ciIsIHRpbWUpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIG1hcmdpbiA9IF90aGlzLm1hcmdpbjsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHt9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGQzLnNlbGVjdCgiLnNjYXR0ZXJUb29sdGlwIikuY2xhc3NlZCgiaGlkZGVuIiwgdHJ1ZSk7CiAgICBkMy5zZWxlY3QoIi5jaGFydFRvb2x0aXAiKS5jbGFzc2VkKCJoaWRkZW4iLCB0cnVlKTsKICAgIHRoaXMuJGJ1cy4kb24oJ0NvbmNlcHRUcmVlJywgZnVuY3Rpb24gKHZhbCkgewogICAgICBfdGhpcy5jb25jZXB0VHJlZSA9IHZhbDsKICAgIH0pOwogICAgdGhpcy4kYnVzLiRvbignYWxsUHJvYmxlbXMnLCBmdW5jdGlvbiAodmFsKSB7CiAgICAgIF90aGlzLmFsbFByb2JsZW1zID0gdmFsOwogICAgfSk7CiAgICB0aGlzLiRidXMuJG9uKCdhbGxDb25jZXB0cycsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgX3RoaXMuYWxsQ29uY2VwdHMgPSB2YWw7CgogICAgICBfdGhpcy5nZXRBbGxTYW5rZXlEYXRhKCk7CgogICAgICBfdGhpcy51cGRhdGFBbGwoKTsKICAgIH0pOwogICAgdGhpcy4kYnVzLiRvbignQ29uY2VwdE9yaScsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgX3RoaXMuQ29uY2VwdE9yaSA9IHZhbDsKICAgIH0pOwogICAgdGhpcy4kYnVzLiRvbignYXR0ckNvbG9ybGlzdCcsIGZ1bmN0aW9uICh2YWwpIHsKICAgICAgX3RoaXMuYXR0ckNvbG9ybGlzdCA9IHZhbDsKICAgIH0pOwogICAgdGhpcy4kYnVzLiRvbignY3VyUGFwZXJTYW5rZXlEYXRhJywgZnVuY3Rpb24gKHZhbCkgewogICAgICBjb25zb2xlLmxvZygiY3VyUGFwZXJTYW5rZXlEYXRhIiwgdmFsKTsKICAgICAgX3RoaXMuY3VyUGFwZXJTYW5rZXlEYXRhID0gdmFsWzBdLmxpbms7CiAgICAgIF90aGlzLnNhbmtleUxpbmtEYXRhID0gX3RoaXMuY3VyUGFwZXJTYW5rZXlEYXRhOwoKICAgICAgX3RoaXMudXBkYXRhQWxsKCk7CiAgICB9KTsgLy8gdGhpcy4kcmVmcy5tb3ZlcHJvQ29uU2Fua2V5TGVmdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW92ZXIiLCBfdGhpcy5tb3ZlcHJvQ29uU2Fua2V5TGVmdCk7IC8vIOebkeWQrOeCueWHu+S6i+S7tgogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5tb3ZlVGltZXIpOwogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- eslint-disable no-unused-vars -->\r\n<!-- eslint-disable no-unused-vars -->\r\n\r\n<template>\r\n  <div class=\"proConSankey\" ref=\"proConSankeyDiv\">\r\n    <div class=\"panelHead\"></div>\r\n    <div id=\"proConSankeyCantain\" class=\"panelBody\" ref=\"proConSankeyCantain\">\r\n    </div>\r\n\r\n    <!-- <div class=\"close\" ref=\"listen\">\r\n    </div> -->\r\n    <!-- <el-button type=\"primary\" @click=\"onSubmit\">Create</el-button> -->\r\n    <!-- <div class=\"proConSankeyTooltip toolTip\">\r\n      <p>\r\n        <br /><strong class=\"name toolTipAttr\"></strong>\r\n        <br /><strong class=\"text toolTipAttr\"></strong>\r\n        <br /><strong class=\"attr0 toolTipAttr\"></strong>\r\n        <br /><strong class=\"attr1 toolTipAttr\"></strong>\r\n        <br /><strong class=\"attr2 toolTipAttr\"></strong>\r\n        <br /><strong class=\"attr3 toolTipAttr\"></strong>\r\n        <br /><strong class=\"attr4 toolTipAttr\"></strong>\r\n      </p>\r\n    </div> -->\r\n  </div>\r\n</div></template>\r\n<script>\r\n// import { param } from 'server/api';\r\nimport * as d3 from 'd3'\r\nimport * as d3Sankey from 'd3-sankey'\r\nimport { onMounted, ref } from 'vue';\r\nimport filenames from \"@/utils/fileName\";\r\nimport domtoimage from 'dom-to-image';\r\n// import TestJson from \"@/assets/json/case2_fin.json\";\r\n// import TestRelJson from \"@/assets/json/case2_fin_rel.json\";\r\nimport Circle from '@/utils/geometry/circle';\r\nimport tools from \"@/utils/tools.js\";\r\n// import \"@/utils/sankey.js\";\r\nimport drawTools from \"@/utils/drawingTools.js\";\r\n\r\nexport default {\r\n  props: [\"toolsState\"],\r\n  data() {\r\n    return {\r\n      proName: '',\r\n      ConceptOri:'',\r\n      sankeyNodeData:'',\r\n      sankeyLinkData:'',\r\n      curPaperSankeyData:\"\",\r\n      sankeyData: '',\r\n      allProblems: '',\r\n      allConcepts: '',\r\n      allProInConGPTSankeyData: '',\r\n      allproConSankeyData: '',\r\n      proType: \"\",\r\n      select: '',\r\n      proForm: {\r\n        name: \"\",\r\n        type: \"\",\r\n        content: \"\"\r\n      },\r\n      attrColorlist: [],\r\n      rootSvg: '',\r\n      width: 0,\r\n      height: 0,\r\n      thisId: 10,\r\n      margin: { top: 5, right: 5, bottom: 5, left: 5 },\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    type(val) {\r\n    },\r\n    toolAddRel(val) {\r\n    },\r\n    toolsState: {\r\n      deep: true,\r\n      handler(val) {\r\n        console.log(val)\r\n        this.toolAddRel = val['addRel'];\r\n        this.toolAddRelMain = val['addRelMain'];\r\n        this.toolDelRel = val['delRel'];\r\n      }\r\n    },\r\n    // sankeyData: {\r\n    //   deep: true,\r\n    //   handler(val) {\r\n    //     console.log(val)\r\n    //     this.updataAll();\r\n    //   }\r\n    // },\r\n    sankeyNodeData(){\r\n      \r\n        this.updataAll();\r\n    }\r\n  },\r\n  methods: {\r\n    getAllSankeyData() {\r\n      const _this = this;\r\n    //   _this.sankeyData ={\r\n    //     \"nodes\": [\r\n    //       { \"name\": \"A\" },\r\n    //       { \"name\": \"B\" },\r\n    //       { \"name\": \"C\" },\r\n    //       { \"name\": \"D\" },\r\n    //       ],\r\n    //   \"links\": [\r\n    //     {'source':0,'target':2,'value':\"110\"},\r\n    //     {'source':0,'target':3,'value':\"5\"},\r\n    //     {'source':1,'target':2,'value':\"4\"},\r\n    //     {'source':1,'target':3,'value':\"2\"},\r\n\r\n    //   ]\r\n    // }\r\n      this.$http\r\n        .get(\"/api/sankeyData\", { params: {} }, {})\r\n        .then((response) => {\r\n          _this.sankeyLinkData = response.body;\r\n          _this.getAllSankeyNodeData();\r\n        });\r\n      // this.$http\r\n      //   .get(\"/api/concept/allproConSankeyData\", { params: {} }, {})\r\n      //   .then((response) => {\r\n      //     _this.allproConSankeyData = response.body;\r\n      //     console.log(\"allproConSankeyData\",response.body);\r\n      //     // _this.allRelationships = response.body;\r\n      //     // _this.drawnetPData();\r\n      //   });\r\n    },\r\n    \r\n    getAllSankeyNodeData() {\r\n      const _this = this;\r\n      let nodes = [];\r\n      let conOri = _this.ConceptOri;\r\n      let sankeyLinkData = _this.sankeyLinkData;\r\n      let j = 0;\r\n      let max = 0;\r\n      for(let i=0;i<conOri.length;i++){\r\n        nodes.push(conOri[i]);\r\n        j++;\r\n      }\r\n      for(let i=0;i<sankeyLinkData.length;i++){\r\n        let target = sankeyLinkData[i]['target'];\r\n        if(target>max){max=target;}\r\n      }\r\n      let i=0;\r\n      console.log(conOri, 2131313,j,max,nodes)\r\n      while(j<=max){\r\n        nodes.push({\"name\":`con${i}`});\r\n        i++;\r\n        j++\r\n      }\r\n      _this.sankeyNodeData = nodes;\r\n\r\n    },\r\n    drawProConSankey(svg) {\r\n      const _this = this;\r\n      const margin = _this.margin;\r\n      let psvg = svg\r\n      let width = psvg.attr(\"width\");\r\n      let height = psvg.attr(\"height\");\r\n      psvg.select(\"#netPG\").remove();\r\n      // let prog = psvg.append(\"g\").attr(\"id\", \"netPG\").attr(\"width\", width).attr(\"height\", height);\r\n      let groups = svg.append(\"g\").attr(\"id\", \"proConSankeyGroups\").attr(\"width\", width).attr(\"height\", height)\r\n      // .attr(\"transform\", \"translate(\" + graphGTransformX + ',' + graphGTransformY + \") scale(\" + graphGTransformK + \")\");\r\n      // this.groupsSvg = groups;\r\n\r\n      let backG = groups.append(\"g\").attr(\"id\", \"proConSankeybackG\").attr(\"width\", width).attr(\"height\", height);\r\n      let arcG = groups.append(\"g\").attr(\"id\", \"proConSankeyarcG\").attr(\"width\", width).attr(\"height\", height);\r\n      let relG = groups.append(\"g\").attr(\"id\", \"proConSankeyrelG\").attr(\"width\", width).attr(\"height\", height);\r\n      let entG = groups.append(\"g\").attr(\"id\", \"proConSankeyentG\").attr(\"width\", width).attr(\"height\", height);\r\n      let frontG = groups.append(\"g\").attr(\"id\", \"proConSankeyfrontG\").attr(\"width\", width).attr(\"height\", height);\r\n\r\n      // let scatterData = _this.scatterData;\r\n      // let xMaxMinDR = tools.getMaxMin(scatterData, 'x');\r\n      // let yMaxMinDR = tools.getMaxMin(scatterData, 'y');\r\n      // let scatterxLinear = d3.scaleLinear().domain([xMaxMinDR[1], xMaxMinDR[0]]).range([0, width]);\r\n      // let scatteryLinear = d3.scaleLinear().domain([yMaxMinDR[1], yMaxMinDR[0]]).range([0, height / 2]);\r\n      let colorList = _this.attrColorlist;\r\n      var node = _this.sankeyNodeData\r\n      var lk = _this.sankeyLinkData;\r\n      let marge = _this.margin;\r\n\r\n      const nodeSort = function(a,b){\r\n        return 0;\r\n      }\r\n\r\n      var sankey = d3Sankey.sankey()\r\n        .nodeWidth(50)//每个资源块的水平像素宽度\r\n        .nodePadding(0)//资源块间的纵向间距\r\n        // .nodeAlign(d3Sankey.sankeyLeft) \r\n        .nodeSort(nodeSort)\r\n        .size([width, height * 0.95]);\r\n      let { nodes, links } = sankey({\r\n        nodes: node.map(d => Object.assign({}, d)),\r\n        links: lk.map(d => Object.assign({}, d))\r\n            });\r\n      // var path = sankey.link();\r\n      var link = svg.append(\"g\").selectAll(\".link\")\r\n        .data(links)\r\n        .enter().append(\"path\")\r\n        .attr(\"class\", \"link\")\r\n        .attr(\"id\", \"san\")\r\n        .attr(\"fill\",\"rgba(255, 0, 0,0)\")\r\n        .attr(\"stroke\", \"rgba(132, 132, 132,0.3)\")\r\n        .attr(\"stroke-width\", d => d.width)\r\n        .style(\"mix-blend-mode\", \"multiply\")\r\n        .attr(\"d\", d3Sankey.sankeyLinkHorizontal())//链接的路径设置已经被sankey封装了，这里调用之后就可以生成连线呢的路径\r\n        //下面这句生成线的宽度，//线的宽度按照线端点两端块较小者扩宽，但为啥偏移max(1, d.dy）？\r\n        // .style(\"stroke-width\", function (d) {\r\n        //   return Math.max(1, d.dy);\r\n        // })\r\n        // .attr(\"transform\", function (d) { return \"translate(\" + marge.left + \",\" + marge.top + \")\"; })\r\n        .sort(function (a, b) { return b.dy - a.dy; });//这句去掉效果一样不知为啥？\r\n      //(5)sankey设置链接提示\r\n      link.append(\"title\")\r\n        .text(function (d) { return d.source.name + \" → \" + d.target.name + \"\\n\" + d.value; });\r\n\r\n        const gradient = link.append(\"linearGradient\")\r\n        // .attr(\"id\", d => (d.uid = DOM.uid(\"link\")).id)\r\n        .attr(\"gradientUnits\", \"userSpaceOnUse\")\r\n        .attr(\"x1\", d => d.source.x1)\r\n        .attr(\"x2\", d => d.target.x0);\r\n    gradient.append(\"stop\")\r\n        .attr(\"offset\", \"0%\")\r\n        .attr(\"stop-color\", d => colorList[parseInt(d.source.category)%colorList.length]);\r\n    gradient.append(\"stop\")\r\n        .attr(\"offset\", \"100%\")\r\n        .attr(\"stop-color\", d => colorList[parseInt(d.target.category)%colorList.length]);\r\n\r\n      //(6)拖动\r\n      var node = svg.append(\"g\").selectAll(\".node\")\r\n        .data(nodes)\r\n        .enter().append(\"g\")\r\n        .attr(\"class\", \"node\")\r\n        // .attr(\"transform\", function (d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; })\r\n\r\n        .call(d3.drag()\r\n          .on(\"drag\", dragmove));\r\n      //(7)块\r\n      node.append(\"rect\")\r\n        .attr(\"id\", \"san\")\r\n        .attr(\"x\", d => d.x0)\r\n        .attr(\"y\", d => d.y0)\r\n        .attr(\"height\", d => (d.y1 - d.y0))\r\n        .attr(\"width\", (d) =>{\r\n          let rectWidth = d.x1 - d.x0;\r\n          if(d.index<=24){\r\n            let lay =  parseInt(d.lay);\r\n           rectWidth += (rectWidth/3)*(1-lay);\r\n          }\r\n          return rectWidth})\r\n        // .text(d => `${d.name}\\n${d.value.toLocaleString()}`)\r\n        // .attr(\"height\", function (d) { return d.dy; })\r\n        // .attr(\"width\", sankey.nodeWidth())//刚才设置的块的宽度  \r\n        // .attr(\"transform\", function (d) { return \"translate(\" + marge.left + \",\" + marge.top + \")\"; })\r\n        .style(\"fill\", function (d) {\r\n          let colorIndex =parseInt(d.index-25)%colorList.length;\r\n          if(d.index<=24){\r\n            colorIndex = parseInt(d.rootFatherIndex);\r\n          }\r\n          // na = d.name.substr(0, d.name.length - 1)\r\n          // if (na == 'ori') {\r\n          //   return mcolor[parseInt(d.name.substr(3)) - 1];\r\n          // }\r\n          // else {\r\n            return colorList[colorIndex];\r\n          // }\r\n        }\r\n        )\r\n        // .style(\"stroke\", function (d) { \r\n        //   if(d.index<=24)\r\n        //   return d3.rgb(d.color).darker(0.1); })//较深\r\n        .append(\"title\")\r\n        .text(function (d) { return d.name + \"\\n\" + d.value; });\r\n      //(8)文字\r\n      node.append(\"text\")\r\n        .attr(\"x\", function (d) { \r\n          let rectWidth = d.x1 - d.x0;\r\n          if(d.index<=24){\r\n            let lay =  parseInt(d.lay);\r\n           rectWidth += (rectWidth/3)*(1-lay);\r\n          }\r\n          return d.x0+rectWidth; })\r\n        .attr(\"y\", function (d) { return d.y0+(d.y1 - d.y0)/2; })\r\n        .attr(\"dy\", \".35em\")\r\n        .attr(\"id\", \"san\")\r\n        .attr(\"text-anchor\", \"end\")//文字在左边（中轴右边的）\r\n        .attr(\"transform\", null)\r\n        .text(function (d) { return d.name; })\r\n        // .filter(function (d) { return d.x < width / 2; })//除去在中轴左边的 \r\n        // .attr(\"x\", 6 + sankey.nodeWidth())\r\n        .attr(\"text-anchor\", \"start\")//文字在右边\r\n        // .attr(\"transform\", function (d) { return \"translate(\" + marge.left + \",\" + marge.top + \")\"; })\r\n      // (9)拖动\r\n      function dragmove(d) {\r\n        d3.select(this).attr(\"transform\", \"translate(\" + d.x + \",\" +\r\n          (d.y = //下面的纵坐标调整值是怎么计算的？\r\n            Math.max(0,\r\n              Math.min(\r\n                height - d.dy,\r\n                d3.event.y\r\n              ))) + \")\");\r\n        sankey.relayout();//重新布局,线上下的位置调整\r\n        link.attr(\"d\", path);//更新路径\r\n      }\r\n\r\n\r\n\r\n    },\r\n    updataAll() {\r\n      var _this = this;\r\n      let margin = _this.margin\r\n      let width = _this.$refs.proConSankeyDiv.offsetWidth - margin.left - margin.right;\r\n      let height = _this.$refs.proConSankeyDiv.offsetHeight - margin.top - margin.bottom;\r\n      _this.width = width;\r\n      _this.height = height;\r\n      d3.select(\"#proConSankeyCantain\").select(\"svg\").remove()\r\n      var svg = d3.select(\"#proConSankeyCantain\").append(\"svg\")\r\n        .attr(\"width\", width - 0)\r\n        .attr(\"height\", height - 0)\r\n        .attr('transform', 'translate(0,0)')\r\n        .style(\"position\", \"absolute\");\r\n\r\n      let entG = svg.append(\"g\").attr(\"id\", \"entG\").attr(\"width\", width).attr(\"height\", height);\r\n      let sonG = svg.append(\"g\").attr(\"id\", \"sonG\").attr(\"width\", width).attr(\"height\", height);\r\n      _this.rootSvg = svg;\r\n      _this.drawProConSankey(svg);\r\n      // });\r\n    },\r\n    click_Ent(time) {\r\n      this.$emit(\"timeDur\", time);\r\n    },\r\n  },\r\n  created() {\r\n    var _this = this;\r\n    let margin = _this.margin\r\n    this.$nextTick(() => {\r\n    });\r\n  },\r\n  mounted() {\r\n    const _this = this;\r\n    d3.select(\".scatterTooltip\").classed(\"hidden\", true);\r\n    d3.select(\".chartTooltip\").classed(\"hidden\", true);\r\n    this.$bus.$on('ConceptTree', (val) => {\r\n      _this.conceptTree = val;\r\n    });\r\n    this.$bus.$on('allProblems', (val) => {\r\n      _this.allProblems = val;\r\n    });\r\n    this.$bus.$on('allConcepts', (val) => {\r\n      _this.allConcepts = val;\r\n      _this.getAllSankeyData();\r\n      _this.updataAll();\r\n    });\r\n    this.$bus.$on('ConceptOri', (val) => {\r\n      _this.ConceptOri = val;\r\n    });\r\n    this.$bus.$on('attrColorlist', (val) => {\r\n      _this.attrColorlist = val;\r\n    });\r\n    this.$bus.$on('curPaperSankeyData', (val) => {\r\n      console.log(\"curPaperSankeyData\",val)\r\n      _this.curPaperSankeyData = val[0].link;\r\n      _this.sankeyLinkData = _this.curPaperSankeyData;\r\n      _this.updataAll();\r\n    });\r\n\r\n    // this.$refs.moveproConSankeyLeft.addEventListener(\"mouseover\", _this.moveproConSankeyLeft); // 监听点击事件\r\n\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.moveTimer);\r\n  },\r\n} \r\n</script>\r\n\r\n<style>\r\n@import './index.css';\r\n</style>\r\n"],"sourceRoot":"src/components/proConSankey"}]}