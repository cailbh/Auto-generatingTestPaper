{"remainingRequest":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\src\\components\\PaperListContentPanel\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\src\\components\\PaperListContentPanel\\index.vue","mtime":1703074549928},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681618859467},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\babel-loader\\lib\\index.js","mtime":1681618859957},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681618859467},{"path":"D:\\Cailibuhong\\auto-generatingTestPaper\\Auto-generatingTestPaper\\sys\\node_modules\\vue-loader\\lib\\index.js","mtime":1681618860114}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBkMyBmcm9tICdkMycNCmltcG9ydCB0b29scyBmcm9tICJAL3V0aWxzL3Rvb2xzLmpzIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogW10sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHBhcGVySWRMaXN0OltdLA0KICAgICAgcGFwcGVyQ2hhbmdlOmZhbHNlLA0KICAgICAgcGFwZXJzTnVtOiAwLA0KICAgICAgY3VyUGFwZXJTYW5rZXlEYXRhOicnLA0KICAgICAgcGFnZToxLA0KICAgICAgcGFnZVNpemU6MjAsDQogICAgICB0YWJsZURhdGE6IFsgXSwNCiAgICAgIG1hcmdpbjogeyB0b3A6IDUsIHJpZ2h0OiA1LCBib3R0b206IDUsIGxlZnQ6IDUgfSwNCiAgICB9Ow0KICB9LA0KICB3YXRjaDogew0KICAgIHR5cGUodmFsKSB7DQogICAgfSwNCiAgICBjdXJFbnRJZChjdXJFbnRJZCkgew0KICAgIH0sDQogICAgcGFwZXJJZExpc3QodmFsKXsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIF90aGlzLiRidXMuJGVtaXQoInBhcGVySWRMaXN0IiwgdmFsKTsNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjbGlja19Qcm9BZGQodmFsKXsNCiAgICAgIGNvbnNvbGUubG9nKHZhbCk7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBpZihfdGhpcy5wYXBlcklkTGlzdC5pbmRleE9mKHZhbC5pZCk9PS0xKXsNCiAgICAgICAgX3RoaXMucGFwZXJJZExpc3QucHVzaCh2YWwuaWQpOw0KICAgICAgfQ0KDQogICAgfSwNCiAgICANCiAgICBnZXRQYXBlclNhbmtleUJ5SWQocGFwZXJJZCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAuZ2V0KCIvYXBpL3BhcGVyL3NhbmtleUJ5SWQiLCB7IHBhcmFtczogeyBwYXBlcklkOiBwYXBlcklkIH0gfSwge30pDQogICAgICAgIC8vIC5nZXQoIi9hcGkvdGVzdCIsIHt9LCB7fSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgX3RoaXMuY3VyUGFwZXJTYW5rZXlEYXRhID0gcmVzcG9uc2UuYm9keTsNCiAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJjdXJQYXBlclNhbmtleURhdGEiLCBfdGhpcy5jdXJQYXBlclNhbmtleURhdGEpOw0KICAgICAgICB9KTsNCiAgICB9LA0KDQogICAgZ2V0UGFwZXJzTnVtKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgbGV0IGRhdGEgPSBbXTsNCg0KICAgICAgdGhpcy4kaHR0cA0KICAgICAgICAuZ2V0KCIvYXBpL3BhcGVyL3BhcGVyTnVtIiwge30sIHt9KQ0KICAgICAgICAvLyAuZ2V0KCIvYXBpL3Rlc3QiLCB7fSwge30pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIF90aGlzLnBhcGVyc051bSA9IHJlc3BvbnNlLmJvZHlbMF07DQogICAgICAgICAgX3RoaXMuJGJ1cy4kZW1pdCgicGFwZXJzTnVtIiwgX3RoaXMucGFwZXJzTnVtKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRQYXBlcnNCeVBhZ2VzKHBhZ2UscGFnZVNpemUpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGxldCBkYXRhID0gW107DQogICAgICB0aGlzLiRodHRwDQogICAgICAgIC5nZXQoIi9hcGkvcGFwZXIvcGFwZXJzQnlQYWdlIiwgeyBwYXJhbXM6IHsgcGFnZTogcGFnZSwgcGFnZVNpemU6cGFnZVNpemUgfSB9LCB7fSkNCiAgICAgICAgLy8gLmdldCgiL2FwaS90ZXN0Iiwge30sIHt9KQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5ib2R5Ow0KICAgICAgICAgIGNvbnNvbGUubG9nKCdwYXBlcicsX3RoaXMudGFibGVEYXRhKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAgLy8g5pi+56S656ys5Yeg6aG1DQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIC8vIOaUueWPmOm7mOiupOeahOmhteaVsA0KICAgICAgdGhpcy5wYWdlID0gdmFsDQogICAgICAvLyDliIfmjaLpobXnoIHml7bvvIzopoHojrflj5bmr4/pobXmmL7npLrnmoTmnaHmlbANCiAgICAgIF90aGlzLmdldFBhcGVyc0J5UGFnZXMoX3RoaXMucGFnZSxfdGhpcy5wYWdlU2l6ZSk7DQogICAgfSwNCiAgICBjbGlja19WaWV3KGRhdGEpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIF90aGlzLmdldFBhcGVyU2Fua2V5QnlJZChbZGF0YVsnaWQnXV0pDQogICAgICB0aGlzLiRidXMuJGVtaXQoInBhcGVyU2VsZWN0ZWQiLCBkYXRhKTsNCiAgICB9LA0KICAgIGNsaWNrX0VkaXQoZGF0YSkgew0KICAgICAgLy8gdGhpcy4kZW1pdCgidGltZUR1ciIsIHRpbWUpOw0KICAgIH0sDQogICAgdXBkYXRhKCl7DQogICAgICBjb25zdCBfdGhpcyA9dGhpczsNCiAgICAgIF90aGlzLmdldFBhcGVyc051bSgpOw0KICAgICAgX3RoaXMuZ2V0UGFwZXJzQnlQYWdlcygxLF90aGlzLnBhZ2VTaXplKTsNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgIC8vIF90aGlzLnVwZGF0YSgpOw0KICAgICAgLy8gX3RoaXMucGFwZXJJZExpc3QgPSBbIjE3MDExMTU5Nzg4NDAwNTE3MTIiLCAiMTY5NzI2MDQwMDc0NjE0Mzc0NCJdOw0KICAgIH0pOw0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGNvbnN0IF90aGlzID0gdGhpcw0KDQogICAgX3RoaXMuZ2V0UGFwZXJzTnVtKCk7DQogICAgX3RoaXMuZ2V0UGFwZXJzQnlQYWdlcygxLF90aGlzLnBhZ2VTaXplKTsNCiAgICB0aGlzLiRidXMuJG9uKCdhbGxwYXBlcicsICh2YWwpID0+IHsNCiAgICAgIF90aGlzLnBhcGVyc0RhdGEgPSB2YWw7DQogICAgICAvLyBfdGhpcy51cGRhdGEoKTsNCiAgICB9KTsNCiAgICB0aGlzLiRidXMuJG9uKCdwcm9JZERlbExpc3QnLCAodmFsKSA9PiB7DQogICAgICBfdGhpcy5wYXBlcklkTGlzdCA9IHZhbDsNCiAgICB9KTsNCiAgICB0aGlzLiRidXMuJG9uKCdwYXBwZXJDaGFuZ2UnLCAodmFsKSA9PiB7DQogICAgICBfdGhpcy5wYXBwZXJDaGFuZ2UgPSB2YWw7DQogICAgICBfdGhpcy51cGRhdGEoKTsNCiAgICB9KTsNCiAgfSwNCiAgLy8gYmVmb3JlRGVzdHJveSgpIHsNCiAgLy8gICBjbGVhckludGVydmFsKHRoaXMubW92ZVRpbWVyKTsNCiAgLy8gfSwNCn0gDQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/PaperListContentPanel","sourcesContent":["<!-- eslint-disable no-unused-vars -->\r\n<!-- eslint-disable no-unused-vars -->\r\n\r\n<template>\r\n  <div class=\"paperListPanel\">\r\n    <div class=\"panelHead\">试卷列表 </div>\r\n    <!-- //SupportPanel</div> -->\r\n    <div id=\"paperListPanelDiv\" class=\"panelBody\" ref=\"paperListPanelDiv\">\r\n\r\n      <el-table :data=\"tableData\" height = 420 style=\"width: 100%;\">\r\n        <el-table-column prop=\"id\" label=\"id\" width=\"100\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"number\" label=\"题目数量\" width=\"300\">\r\n        </el-table-column>\r\n        <!-- <el-table-column prop=\"province\" label=\"省份\" width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"city\" label=\"市区\" width=\"120\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"address\" label=\"地址\" width=\"300\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"zip\" label=\"邮编\" width=\"120\">\r\n        </el-table-column> -->\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button @click=\"click_View(scope.row)\" type=\"text\" size=\"medium\">查看</el-button>\r\n            <!-- <el-button @click=\"click_ProAdd(scope.row)\" type=\"text\" size=\"small\">添加</el-button> -->\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    <div class=\"pagination\">\r\n      <el-pagination @current-change=\"handleCurrentChange\" :page-size=\"pageSize\" :pager-count=\"11\" layout=\"prev, pager, next\" :total=\"papersNum\">\r\n      </el-pagination>\r\n    </div>\r\n      <!-- <div id=\"connectCon\" ref=\"connectCon\">\r\n      </div> -->\r\n      <div id=\"paperListData\" ref=\"paperListData\">\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport * as d3 from 'd3'\r\nimport tools from \"@/utils/tools.js\";\r\n\r\nexport default {\r\n  props: [],\r\n  data() {\r\n    return {\r\n      paperIdList:[],\r\n      papperChange:false,\r\n      papersNum: 0,\r\n      curPaperSankeyData:'',\r\n      page:1,\r\n      pageSize:20,\r\n      tableData: [ ],\r\n      margin: { top: 5, right: 5, bottom: 5, left: 5 },\r\n    };\r\n  },\r\n  watch: {\r\n    type(val) {\r\n    },\r\n    curEntId(curEntId) {\r\n    },\r\n    paperIdList(val){\r\n      const _this = this;\r\n      _this.$bus.$emit(\"paperIdList\", val);\r\n    }\r\n  },\r\n  methods: {\r\n    click_ProAdd(val){\r\n      console.log(val);\r\n      const _this = this;\r\n      if(_this.paperIdList.indexOf(val.id)==-1){\r\n        _this.paperIdList.push(val.id);\r\n      }\r\n\r\n    },\r\n    \r\n    getPaperSankeyById(paperId) {\r\n      const _this = this;\r\n      this.$http\r\n        .get(\"/api/paper/sankeyById\", { params: { paperId: paperId } }, {})\r\n        // .get(\"/api/test\", {}, {})\r\n        .then((response) => {\r\n          _this.curPaperSankeyData = response.body;\r\n          _this.$bus.$emit(\"curPaperSankeyData\", _this.curPaperSankeyData);\r\n        });\r\n    },\r\n\r\n    getPapersNum() {\r\n      const _this = this;\r\n      let data = [];\r\n\r\n      this.$http\r\n        .get(\"/api/paper/paperNum\", {}, {})\r\n        // .get(\"/api/test\", {}, {})\r\n        .then((response) => {\r\n          _this.papersNum = response.body[0];\r\n          _this.$bus.$emit(\"papersNum\", _this.papersNum);\r\n        });\r\n    },\r\n    getPapersByPages(page,pageSize) {\r\n      const _this = this;\r\n      let data = [];\r\n      this.$http\r\n        .get(\"/api/paper/papersByPage\", { params: { page: page, pageSize:pageSize } }, {})\r\n        // .get(\"/api/test\", {}, {})\r\n        .then((response) => {\r\n          _this.tableData = response.body;\r\n          console.log('paper',_this.tableData);\r\n        });\r\n    },\r\n     // 显示第几页\r\n    handleCurrentChange(val) {\r\n      const _this = this;\r\n      // 改变默认的页数\r\n      this.page = val\r\n      // 切换页码时，要获取每页显示的条数\r\n      _this.getPapersByPages(_this.page,_this.pageSize);\r\n    },\r\n    click_View(data) {\r\n      const _this = this;\r\n      _this.getPaperSankeyById([data['id']])\r\n      this.$bus.$emit(\"paperSelected\", data);\r\n    },\r\n    click_Edit(data) {\r\n      // this.$emit(\"timeDur\", time);\r\n    },\r\n    updata(){\r\n      const _this =this;\r\n      _this.getPapersNum();\r\n      _this.getPapersByPages(1,_this.pageSize);\r\n    }\r\n  },\r\n  created() {\r\n    const _this = this;\r\n    this.$nextTick(() => {\r\n      // _this.updata();\r\n      // _this.paperIdList = [\"1701115978840051712\", \"1697260400746143744\"];\r\n    });\r\n  },\r\n  mounted() {\r\n    const _this = this\r\n\r\n    _this.getPapersNum();\r\n    _this.getPapersByPages(1,_this.pageSize);\r\n    this.$bus.$on('allpaper', (val) => {\r\n      _this.papersData = val;\r\n      // _this.updata();\r\n    });\r\n    this.$bus.$on('proIdDelList', (val) => {\r\n      _this.paperIdList = val;\r\n    });\r\n    this.$bus.$on('papperChange', (val) => {\r\n      _this.papperChange = val;\r\n      _this.updata();\r\n    });\r\n  },\r\n  // beforeDestroy() {\r\n  //   clearInterval(this.moveTimer);\r\n  // },\r\n} \r\n</script>\r\n\r\n<style>\r\n@import './index.css';\r\n</style>\r\n"]}]}