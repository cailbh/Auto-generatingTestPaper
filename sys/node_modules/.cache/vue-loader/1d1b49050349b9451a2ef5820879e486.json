{"remainingRequest":"D:\\Cailibuhong\\video2Graph\\MOOCChinaVis\\MOOC_ChinaVis\\sys\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Cailibuhong\\video2Graph\\MOOCChinaVis\\MOOC_ChinaVis\\sys\\src\\components\\Scatter\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Cailibuhong\\video2Graph\\MOOCChinaVis\\MOOC_ChinaVis\\sys\\src\\components\\Scatter\\index.vue","mtime":1684141770268},{"path":"D:\\Cailibuhong\\video2Graph\\MOOCChinaVis\\MOOC_ChinaVis\\sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681618859467},{"path":"D:\\Cailibuhong\\video2Graph\\MOOCChinaVis\\MOOC_ChinaVis\\sys\\node_modules\\babel-loader\\lib\\index.js","mtime":1681618859957},{"path":"D:\\Cailibuhong\\video2Graph\\MOOCChinaVis\\MOOC_ChinaVis\\sys\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681618859467},{"path":"D:\\Cailibuhong\\video2Graph\\MOOCChinaVis\\MOOC_ChinaVis\\sys\\node_modules\\vue-loader\\lib\\index.js","mtime":1681618860114}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBkMyBmcm9tICdkMycNCmltcG9ydCB7IG9uTW91bnRlZCwgcmVmIH0gZnJvbSAndnVlJzsNCmltcG9ydCBmaWxlbmFtZXMgZnJvbSAiQC91dGlscy9maWxlTmFtZSI7DQppbXBvcnQgZG9tdG9pbWFnZSBmcm9tICdkb20tdG8taW1hZ2UnOw0KLy8gaW1wb3J0IFRlc3RKc29uIGZyb20gIkAvYXNzZXRzL2pzb24vY2FzZTJfZmluLmpzb24iOw0KLy8gaW1wb3J0IFRlc3RSZWxKc29uIGZyb20gIkAvYXNzZXRzL2pzb24vY2FzZTJfZmluX3JlbC5qc29uIjsNCmltcG9ydCB0b29scyBmcm9tICJAL3V0aWxzL3Rvb2xzLmpzIjsNCmltcG9ydCBjb250b3VyIGZyb20gIkAvdXRpbHMvY29udG91ciI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgcHJvcHM6IFsidG9vbHNTdGF0ZSJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkYXRhOiAnJywNCiAgICAgIGFkZEdyb3VwVXJsOiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvYWRkR3JvdXAucG5nIiksDQogICAgICBkZWxHcm91cFVybDogcmVxdWlyZSgiQC9hc3NldHMvaW1nL2RlbEdyb3VwLnBuZyIpLA0KICAgICAgY29uZmlybUdyb3VwVXJsOiByZXF1aXJlKCJAL2Fzc2V0cy9pbWcvY29uZmlybUdyb3VwLnBuZyIpLA0KICAgICAgc2NhdHRlckhlaWdodDogMCwNCiAgICAgIHNlbGVjdFN0YXJ0WDogMCwNCiAgICAgIHNlbGVjdFN0YXJ0WTogMCwNCiAgICAgIHNlbGVjdEVuZFg6IDAsDQogICAgICBzZWxlY3RFbmRZOiAwLA0KICAgICAgc2VsZWN0R3JvdXBJZDogLTEsDQogICAgICBzZWxlY3RHcm91cDogW10sDQogICAgICBzdHVBdHRyTGlzdDogW10sDQogICAgICBzdHVBdHRyTWF4TWluTGlzdDogW10sDQogICAgICBTZWxlY3RTdHVkZW50TGlzdDogW10sDQogICAgICBncm91cERhdGE6IFtdLA0KICAgICAgc2VsZWN0Q2xpY2s6IDAsDQogICAgICBwcm9ibGVtc0RhdGE6IFtdLA0KICAgICAgcHJvU2V0T3JpRGF0YTogW10sDQogICAgICBzdWJtaXNzaW9uc0RhdGE6IFtdLA0KICAgICAgc3R1ZGVudHNEYXRhOiBbXSwNCiAgICAgIGNvbmNlcHRzRGF0YTogW10sDQogICAgICBjb25jZXB0VHJlZTogW10sDQogICAgICBwcm9TZXREYXRhOiBbXSwNCiAgICAgIGludGVyWTogMTAsDQogICAgICBhdHRyQ29sb3JMaXN0OiBbXSwNCiAgICAgIHByb2JsZW1Db25jZXB0RGF0YTogW10sDQogICAgICB1c2VyUHJvYmxlbURhdGE6IFtdLA0KICAgICAgTWF4TWluWDogW10sDQogICAgICBNYXhNaW5ZOiBbXSwNCiAgICAgIHByb0F0dHJMaXN0OiBbXSwNCiAgICAgIHByb0F0dHJNYXhNaW5MaXN0OiBbXSwNCiAgICAgIGNvbk1heE1pbkRSOiBbXSwNCiAgICAgIGNvbk1heE1pbkRDOiBbXSwNCiAgICAgIGNvbkF0dHJMaXN0OiBbXSwNCiAgICAgIGNvbkF0dHJNYXhNaW5MaXN0OiBbXSwNCiAgICAgIEVudF9wcm9ibGVtOiBbXSwNCiAgICAgIEVudF9jb25jZXB0OiBbXSwNCiAgICAgIGVudEc6ICIiLA0KICAgICAgZW50U2V0RzogIiIsDQogICAgICBlbnRieVNldEc6ICIiLA0KICAgICAgcmVsRzogIiIsDQogICAgICBjdXJQcm9ibGVtSWQ6ICcnLA0KICAgICAgY3VyQ29uY2VwdElkOiAnJywNCiAgICAgIGN1clByb2JsZW1TZXRJZDogJycsDQogICAgICBzZWxlY3RQcm9ibGVtSWQ6ICcnLA0KICAgICAgY3VyQ29uY2VwdElkOiAnJywNCiAgICAgIHNlbGVjdENvbmNlcHRJZDogJycsDQogICAgICBwcm9YOiA1MDAsDQogICAgICBwcm9ZOiAwLA0KICAgICAgc2V0WDogODAwLA0KICAgICAgc2V0WTogMCwNCiAgICAgIHRyZWVYOiA1MCwNCiAgICAgIHRyZWVZOiAwLA0KICAgICAgcHJvU3RlcFk6IDAsDQogICAgICBjb25TdGVwWTogMCwNCiAgICAgIHJvb3RTdmc6IG51bGwsDQogICAgICByb290U3ZnZjogbnVsbCwNCiAgICAgIGdyb3Vwc1N2ZzogbnVsbCwNCiAgICAgIGFyY0c6IG51bGwsDQogICAgICBiYWNrRzogbnVsbCwNCiAgICAgIHNjYXR0ZXJab29tOiBudWxsLA0KICAgICAgamdEcmFnOiB0cnVlLA0KICAgICAgY3VyRW50SWQ6ICcnLA0KICAgICAgbWluREltcG9ydGFuY2U6IDAsDQogICAgICBtYXhESW1wb3J0YW5jZTogMCwNCiAgICAgIG1pbkRSZWxldmFuY2U6IDAsDQogICAgICBtYXhEUmVsZXZhbmNlOiAwLA0KICAgICAgbWF4RER1cmF0aW9uOiAwLA0KICAgICAgbWF4VG90YWxEdXJhdGlvbjogMCwNCiAgICAgIHZpZGVvRHVyYXRpb246IDY3MiwNCiAgICAgIHRvdGFsRHVyYXRpb246IDEwMDAsDQogICAgICBpbXBvcnRhbmNlQ29sb3JfbGluZWFyOiBudWxsLA0KICAgICAgaW1wb3J0YW5jZUNvbXB1dGVfY29sb3I6IG51bGwsDQogICAgICByZWxldmFuY2VTY2FsZV9saW5lYXI6IG51bGwsDQogICAgICBzY2F0dGVyR1RyYW5zZm9ybUs6IDEsDQogICAgICBzY2F0dGVyR1RyYW5zZm9ybVg6IDAsDQogICAgICBzY2F0dGVyR1RyYW5zZm9ybVk6IDAsDQogICAgICBzY2F0dGVyU3ZnU2NhbGU6IDEsDQogICAgICBtb3ZlVGltZXI6IG51bGwsDQogICAgICBtb3ZlRmxhZzogZmFsc2UsDQogICAgICBzdHVNaW5Db2xvcjogInJnYigyNTUsIDI1NSwgMjU1KSIsDQogICAgICBzdHVNYXhDb2xvcjogInJnYig3NiwgMTQxLCA1KSIsDQogICAgICBzdGVwWDogODAsDQogICAgICBzdGVwWTogMTAwLA0KICAgICAgdHlwZVhNYXA6IHsNCiAgICAgICAgIlRSVUVfT1JfRkFMU0UiOiAwLA0KICAgICAgICAiTVVMVElQTEVfQ0hPSUNFIjogMSwNCiAgICAgICAgIkZJTExfSU5fVEhFX0JMQU5LIjogMiwNCiAgICAgICAgIlBST0dSQU1NSU5HIjogMywNCiAgICAgICAgIkNPREVfQ09NUExFVElPTiI6IDQsDQogICAgICAgICJNVUxUSVBMRV9DSE9JQ0VfTU9SRV9USEFOX09ORV9BTlNXRVIiOiA1DQogICAgICB9LA0KICAgICAgY2lyY2xlSW50ZXJ2YWw6IDU1LA0KICAgICAgd2lkdGg6IDAsDQogICAgICBoZWlnaHQ6IDAsDQogICAgICBjdXJUb29sU3RhdGU6ICd1bkVkaXQnLA0KICAgICAgbWFyZ2luOiB7IHRvcDogMSwgcmlnaHQ6IDIsIGJvdHRvbTogMCwgbGVmdDogMiB9LA0KICAgICAgc3R1Q29sb3JMaXN0OiBbXSwNCiAgICAgIG1jb2xvcjogWw0KICAgICAgICAicmdiKDI1NSw2MCw2MCkiLA0KICAgICAgICAicmdiKDE1NSwyMCwxMDApIiwNCiAgICAgICAgInJnYigyNTUsODMsMjU1KSIsDQogICAgICAgICJyZ2IoMjAwLDEwMCw1MCkiLA0KICAgICAgICAicmdiKDIzNSwxMzUsMTYyKSIsDQogICAgICAgICJyZ2IoMjAwLDIwMCwxMDIpIiwNCiAgICAgICAgInJnYigyNTUsMTc4LDEwMSkiLA0KICAgICAgICAicmdiKDYzLDE1MSwxMzQpIiwNCiAgICAgICAgInJnYig4MywxNTUsMjU1KSIsDQogICAgICAgICJyZ2IoNTAsMjAwLDEyMCkiLA0KICAgICAgICAicmdiKDIsNTAsMjAwKSIsDQogICAgICAgICJyZ2IoMCwxMjIsMjQ0KSIsDQogICAgICAgICJyZ2IoMTUwLDEyMiwyNDQpIiwNCiAgICAgICAgInJnYigxNjgsMTY4LDI1NSkiLA0KICAgICAgICAicmdiKDIwMCwyMDAsMjAwKSIsDQogICAgICBdLA0KICAgICAgbUxpZ250Y29sb3I6IFsNCiAgICAgICAgIiNmZjljOWMiLA0KICAgICAgICAiI2NjODhiMCIsDQogICAgICAgICIjZmZhOGZmIiwNCiAgICAgICAgIiNlM2IwOTciLA0KICAgICAgICAiI2Y0YzNkMCIsDQogICAgICAgICIjZjRmNGQwIiwNCiAgICAgICAgIiNmZmQ4YjEiLA0KICAgICAgICAiIzllY2FjMiIsDQogICAgICAgICIjYThjY2ZmIiwNCiAgICAgICAgIiM5N2UzYmEiLA0KICAgICAgICAiIzZmOGJlMCIsDQogICAgICAgICJyZ2IoMCwxMjIsMjQ0KSIsDQogICAgICAgICIjYjZhMmY3IiwNCiAgICAgICAgInJnYigxNjgsMTY4LDI1NSkiLA0KICAgICAgICAicmdiKDIwMCwyMDAsMjAwKSIsDQogICAgICBdLA0KICAgICAgYXR0ckNvbG9yTGlzdDpbDQogICAgICAicmdiKDI1NSwgNzcsIDEwOSkiLA0KICAgICAgICAicmdiKDI1NSwgMjMxLCAzMikiLA0KICAgICAgICAicmdiKDI1MCwgMjEwLCA1MCkiLA0KICAgICAgICAicmdiKDI1NSwgMTIwLCA5MCkiLA0KICAgICAgICAicmdiKDI1NSwgMTU5LCAyOCkiLA0KICAgICAgICAicmdiKDYsIDIxNCwgMTYwKSIsDQogICAgICAgICJyZ2IoMTI1LCA5OCwgMjExKSIsDQogICAgICBdLA0KICAgIH07DQogIH0sDQoNCiAgd2F0Y2g6IHsNCiAgICBzZWxlY3RHcm91cElkKHZhbCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgdGhpcy4kcmVmcy5saXN0ZW4uYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgX3RoaXMubW91c2VEb3duKTsNCiAgICB9LA0KICAgIGdyb3Vwc1N2Zzogew0KICAgICAgZGVlcDogdHJ1ZSwNCiAgICAgIGhhbmRsZXIodmFsKSB7DQogICAgICAgIHZhciBjb250ZW50ID0gdGhpcy5ncm91cHNTdmcuaHRtbCgpOw0KICAgICAgICB0aGlzLnJvb3RTdmdmLmh0bWwoY29udGVudCkNCiAgICAgICAgdGhpcy5kcmF3RmlndXJlQW5ub3RhdGlvbigpOw0KICAgICAgfQ0KICAgIH0sDQogICAgU2VsZWN0U3R1ZGVudExpc3Q6IHsNCiAgICAgIGRlZXA6IHRydWUsDQogICAgICBoYW5kbGVyKHZhbCkgew0KICAgICAgICBsZXQgZW50RyA9IHRoaXMuZW50RzsNCiAgICAgICAgdGhpcy51cGRhdGFTY2F0dGVyKCk7DQogICAgICAgIHRoaXMuZHJhd0NvbnRvdXIoZW50Ryk7DQogICAgICB9DQogICAgfSwNCiAgICBzZWxlY3RHcm91cCh2YWwpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGQzLnNlbGVjdEFsbCgiLnN0dUdyb3VwIikucmVtb3ZlKCk7DQogICAgICBsZXQgbnVtID0gdmFsLmxlbmd0aDsNCiAgICAgIGxldCBiYWNrRyA9IF90aGlzLnJvb3RTdmdmOw0KICAgICAgbGV0IGNvbG9yTGlzdCA9IF90aGlzLnN0dUNvbG9yTGlzdDsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtOyBpKyspIHsNCiAgICAgICAgbGV0IGN4ID0gMjAgKyBpICogNDA7DQogICAgICAgIGxldCBjeSA9IDUwMDsNCiAgICAgICAgbGV0IHIgPSAxMjsNCiAgICAgICAgbGV0IGZpbGwgPSBjb2xvckxpc3RbaV07DQogICAgICAgIGxldCBvcGFjaXR5ID0gMTsNCiAgICAgICAgbGV0IGNpcmNsZSA9IF90aGlzLmRyYXdDaXJjbGUoYmFja0csIGN4LCBjeSwgciwgIndoaXRlIiwgb3BhY2l0eSwgZmlsbCwgMywgJ3N0dUdyb3VwJywgYHN0dUdyb3VwXyR7aX1gKTsNCiAgICAgICAgY2lyY2xlLm9uKCJjbGljayIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICBkMy5zZWxlY3RBbGwoYC5zdHVHcm91cGApLmF0dHIoIm9wYWNpdHkiLCAwLjEpOw0KICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCJvcGFjaXR5IiwgMSk7DQogICAgICAgICAgbGV0IGlkID0gZDMuc2VsZWN0KHRoaXMpLmF0dHIoImlkIikuc3BsaXQoIl8iKVsxXTsNCiAgICAgICAgICBfdGhpcy5zZWxlY3RHcm91cElkID0gaWQ7DQoNCiAgICAgICAgICBkMy5zZWxlY3QoIi5jbG9zZSIpLmNsYXNzZWQoImhpZGRlbiIsIGZhbHNlKTsNCiAgICAgICAgfSkub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICBkMy5zZWxlY3RBbGwoYC5zdHVHcm91cGApLmF0dHIoIm9wYWNpdHkiLCAwLjEpOw0KICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCJvcGFjaXR5IiwgMSk7DQogICAgICAgICAgX3RoaXMuJHJlZnMubGlzdGVuLnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLCBfdGhpcy5tb3VzZVVwKTsNCiAgICAgICAgICBfdGhpcy4kcmVmcy5saXN0ZW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgX3RoaXMubW91c2VEb3duKTsNCiAgICAgICAgICBfdGhpcy5qZ0RyYWcgPSBmYWxzZTsNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KICAgIHR5cGUodmFsKSB7DQogICAgfSwNCiAgfSwNCiAgbWV0aG9kczogew0KDQogICAgYWRkR3JvdXBDbGsoKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgc2VsZWN0U3R1R3JvdXAgPSBfdGhpcy5zZWxlY3RHcm91cDsNCiAgICAgIC8vIGlmIChzZWxlY3RTdHVHcm91cC5sZW5ndGggPCA1KQ0KICAgICAgLy8gICBzZWxlY3RTdHVHcm91cC5wdXNoKFtdKTsNCiAgICAgIHNlbGVjdFN0dUdyb3VwID0gW1tdLFtdLFtdXQ0KICAgICAgX3RoaXMuc2VsZWN0R3JvdXAgPSBzZWxlY3RTdHVHcm91cDsNCiAgICAgIC8vIGQzLnNlbGVjdChgI2FkZEdyb3VwRGl2YCkNCiAgICAgIC8vIC5hdHRyKCJzdHlsZSIsIGZ1bmN0aW9uKCl7DQogICAgICAvLyAgIHJldHVybiBgcmlnaHQ6JHs0NTAtKHNlbGVjdFN0dUdyb3VwLmxlbmd0aCkqNDB9cHhgDQogICAgICAvLyB9KTsNCiAgICB9LA0KICAgIGRlbEdyb3VwQ2xrKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgbGV0IHNlbGVjdFN0dUdyb3VwID0gX3RoaXMuc2VsZWN0R3JvdXA7DQogICAgICBpZiAoc2VsZWN0U3R1R3JvdXAubGVuZ3RoID4gMCkNCiAgICAgICAgc2VsZWN0U3R1R3JvdXAucG9wKCk7DQogICAgICBfdGhpcy5zZWxlY3RHcm91cCA9IHNlbGVjdFN0dUdyb3VwOw0KICAgICAgLy8gZDMuc2VsZWN0KGAjYWRkR3JvdXBEaXZgKQ0KICAgICAgLy8gLmF0dHIoInN0eWxlIiwgZnVuY3Rpb24oKXsNCiAgICAgIC8vICAgcmV0dXJuIGByaWdodDokezQ1MC0oc2VsZWN0U3R1R3JvdXAubGVuZ3RoKSo0MH1weGANCiAgICAgIC8vIH0pOw0KICAgIH0sDQogICAgY29uZmlybUdyb3VwQ2xrKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgbGV0IHNlbGVjdFN0dUdyb3VwID0gX3RoaXMuc2VsZWN0R3JvdXA7DQoNCiAgICAgIHRoaXMuJGJ1cy4kZW1pdCgiU2VsZWN0ZWRTdHUiLCBfdGhpcy5TZWxlY3RTdHVkZW50TGlzdCk7DQogICAgICAvLyBkMy5zZWxlY3QoYCNhZGRHcm91cERpdmApDQogICAgICAvLyAuYXR0cigic3R5bGUiLCBmdW5jdGlvbigpew0KICAgICAgLy8gICByZXR1cm4gYHJpZ2h0OiR7NDUwLShzZWxlY3RTdHVHcm91cC5sZW5ndGgpKjQwfXB4YA0KICAgICAgLy8gfSk7DQogICAgfSwNCg0KICAgIGRyYXdNYWluKHN2Zykgew0KICAgICAgbGV0IF90aGlzID0gdGhpczsNCiAgICAgIGxldCBkYXRhID0gX3RoaXMuZGF0YTsNCiAgICAgIGxldCBtYXJnaW4gPSBfdGhpcy5tYXJnaW47DQoNCiAgICAgIGxldCB3aWR0aCA9IF90aGlzLndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7DQogICAgICBsZXQgaGVpZ2h0ID0gX3RoaXMuaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207DQoNCiAgICAgIGxldCBzY2F0dGVyR1RyYW5zZm9ybVggPSBfdGhpcy5zY2F0dGVyR1RyYW5zZm9ybVg7DQogICAgICBsZXQgc2NhdHRlckdUcmFuc2Zvcm1ZID0gX3RoaXMuc2NhdHRlckdUcmFuc2Zvcm1ZOw0KICAgICAgbGV0IHNjYXR0ZXJHVHJhbnNmb3JtSyA9IF90aGlzLnNjYXR0ZXJHVHJhbnNmb3JtSzsNCg0KICAgICAgbGV0IGdyb3VwcyA9IHN2Zy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJnZ3JvdXBzIikuYXR0cigiY2xhc3MiLCAiZ3JvdXBzIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KQ0KICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgc2NhdHRlckdUcmFuc2Zvcm1YICsgJywnICsgc2NhdHRlckdUcmFuc2Zvcm1ZICsgIikgc2NhbGUoIiArIHNjYXR0ZXJHVHJhbnNmb3JtSyArICIpIik7DQogICAgICB0aGlzLmdyb3Vwc1N2ZyA9IGdyb3VwczsNCg0KICAgICAgbGV0IGJhY2tHID0gZ3JvdXBzLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImdiYWNrRyIpLmF0dHIoImNsYXNzIiwgImdyb3VwcyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQogICAgICBsZXQgYXJjRyA9IGdyb3Vwcy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJnYXJjRyIpLmF0dHIoImNsYXNzIiwgImdyb3VwcyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQogICAgICBsZXQgcmVsRyA9IGdyb3Vwcy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJncmVsRyIpLmF0dHIoImNsYXNzIiwgImdyb3VwcyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQogICAgICBsZXQgZW50U2V0RyA9IGdyb3Vwcy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJnZW50U2V0RyIpLmF0dHIoImNsYXNzIiwgImdyb3VwcyIpLmF0dHIoIndpZHRoIiwgd2lkdGgpLmF0dHIoImhlaWdodCIsIGhlaWdodCk7DQogICAgICBsZXQgZW50YnlTZXRHID0gZ3JvdXBzLmFwcGVuZCgiZyIpLmF0dHIoImlkIiwgImdlbnRieVNldEciKS5hdHRyKCJjbGFzcyIsICJncm91cHMiKS5hdHRyKCJ3aWR0aCIsIHdpZHRoKS5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOw0KICAgICAgbGV0IGVudEcgPSBncm91cHMuYXBwZW5kKCJnIikuYXR0cigiaWQiLCAiZ2VudEciKS5hdHRyKCJjbGFzcyIsICJncm91cHMiKS5hdHRyKCJ3aWR0aCIsIHdpZHRoKS5hdHRyKCJoZWlnaHQiLCBoZWlnaHQpOw0KICAgICAgbGV0IGZyb250RyA9IGdyb3Vwcy5hcHBlbmQoImciKS5hdHRyKCJpZCIsICJnZnJvbnRHIikuYXR0cigiY2xhc3MiLCAiZ3JvdXBzIikuYXR0cigid2lkdGgiLCB3aWR0aCkuYXR0cigiaGVpZ2h0IiwgaGVpZ2h0KTsNCg0KICAgICAgbGV0IE1heE1pblggPSBfdGhpcy5NYXhNaW5YOw0KICAgICAgbGV0IE1heE1pblkgPSBfdGhpcy5NYXhNaW5ZOw0KDQogICAgICBsZXQgeFNpemVfbGluZWFyID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW01heE1pblhbMV0sIE1heE1pblhbMF1dKS5yYW5nZShbMzAsIHdpZHRoIC0gMzBdKTsNCiAgICAgIGxldCB5U2l6ZV9saW5lYXIgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbTWF4TWluWVsxXSwgTWF4TWluWVswXV0pLnJhbmdlKFszMCwgaGVpZ2h0IC0gMzBdKTsNCg0KICAgICAgX3RoaXMuYXJjRyA9IGFyY0c7DQogICAgICBfdGhpcy5lbnRHID0gZW50RzsNCiAgICAgIF90aGlzLmVudFNldEcgPSBlbnRTZXRHOw0KICAgICAgX3RoaXMuZW50YnlTZXRHID0gZW50YnlTZXRHOw0KICAgICAgX3RoaXMucmVsRyA9IHJlbEc7DQogICAgICBfdGhpcy5iYWNrRyA9IGJhY2tHOw0KICAgICAgX3RoaXMuc2NhdHRlclpvb20gPSBzY2F0dGVyWm9vbTsNCiAgICAgIGxldCBjb3B5ZyA9IF90aGlzLnJvb3RTdmdmLnNlbGVjdCgiI2dncm91cHMiKTsNCiAgICAgIGxldCBpbnRlcnZhbCA9IF90aGlzLmNpcmNsZUludGVydmFsOw0KDQoNCg0KICAgICAgbGV0IHNjYWxlUHJlID0gX3RoaXMuc2NhdHRlclN2Z1NjYWxlOw0KICAgICAgbGV0IHN0eCA9IDA7DQogICAgICBsZXQgc3R5ID0gMDsNCiAgICAgIGxldCBzdGsgPSAxOw0KICAgICAgdmFyIHNjYXR0ZXJab29tID0gZDMuem9vbSgpDQogICAgICAgIC5zY2FsZUV4dGVudChbMCwgMTAwXSkNCiAgICAgICAgLm9uKCJzdGFydCIsIChlKSA9PiB7DQogICAgICAgICAgaWYgKF90aGlzLmpnRHJhZykgew0KICAgICAgICAgICAgc3R5ID0gZS50cmFuc2Zvcm0ueTsNCiAgICAgICAgICAgIHN0eCA9IGUudHJhbnNmb3JtLng7DQogICAgICAgICAgICBzdGsgPSBlLnRyYW5zZm9ybS5rOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLm9uKCd6b29tJywgKGUpID0+IHsNCiAgICAgICAgICBpZiAoX3RoaXMuamdEcmFnKSB7DQogICAgICAgICAgICBzY2F0dGVyR1RyYW5zZm9ybVggPSBfdGhpcy5zY2F0dGVyR1RyYW5zZm9ybVggKyBlLnRyYW5zZm9ybS54IC0gc3R4Ow0KICAgICAgICAgICAgc2NhdHRlckdUcmFuc2Zvcm1ZID0gX3RoaXMuc2NhdHRlckdUcmFuc2Zvcm1ZICsgZS50cmFuc2Zvcm0ueSAtIHN0eTsNCiAgICAgICAgICAgIHNjYXR0ZXJHVHJhbnNmb3JtSyA9IF90aGlzLnNjYXR0ZXJHVHJhbnNmb3JtSyArIGUudHJhbnNmb3JtLmsgLSBzdGs7DQogICAgICAgICAgICBncm91cHMuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKHNjYXR0ZXJHVHJhbnNmb3JtWCkgKyAnLCcgKyAoc2NhdHRlckdUcmFuc2Zvcm1ZKSArICcpIHNjYWxlKCcgKyAoc2NhdHRlckdUcmFuc2Zvcm1LKSArICcpJykNCiAgICAgICAgICAgIF90aGlzLnJvb3RTdmdmLnNlbGVjdEFsbCgiLmdyb3VwcyIpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIChzY2F0dGVyR1RyYW5zZm9ybVgpICsgJywnICsgKHNjYXR0ZXJHVHJhbnNmb3JtWSkgKyAnKSBzY2FsZSgnICsgKHNjYXR0ZXJHVHJhbnNmb3JtSykgKyAnKScpDQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAub24oJ2VuZCcsIChlKSA9PiB7DQogICAgICAgICAgaWYgKF90aGlzLmpnRHJhZykgew0KICAgICAgICAgICAgX3RoaXMuc2NhdHRlckdUcmFuc2Zvcm1YID0gc2NhdHRlckdUcmFuc2Zvcm1YOw0KICAgICAgICAgICAgX3RoaXMuc2NhdHRlckdUcmFuc2Zvcm1ZID0gc2NhdHRlckdUcmFuc2Zvcm1ZOw0KICAgICAgICAgICAgX3RoaXMuc2NhdHRlckdUcmFuc2Zvcm1LID0gc2NhdHRlckdUcmFuc2Zvcm1LOw0KICAgICAgICAgICAgZ3JvdXBzLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIChzY2F0dGVyR1RyYW5zZm9ybVgpICsgJywnICsgKHNjYXR0ZXJHVHJhbnNmb3JtWSkgKyAnKSBzY2FsZSgnICsgKHNjYXR0ZXJHVHJhbnNmb3JtSykgKyAnKScpDQogICAgICAgICAgICBfdGhpcy5ncm91cHNTdmcgPSBncm91cHM7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgc3ZnLmNhbGwoc2NhdHRlclpvb20pOw0KICAgICAgZDMuc2VsZWN0KCIuY2xvc2UiKS5jbGFzc2VkKCJoaWRkZW4iLCB0cnVlKTsNCiAgICAgIGQzLnNlbGVjdCgiLnNjYXR0ZXJUb29sdGlwIikuY2xhc3NlZCgiaGlkZGVuIiwgdHJ1ZSk7DQogICAgICAvLyBzdmcuY2FsbChkMy56b29tKCkub24oJ3N0YXJ0JywgbnVsbCkub24oJ3pvb20nLG51bGwpLm9uKCdlbmQnLCBudWxsKSkNCg0KICAgICAgbGV0IGF0dHJMaXN0ID0gX3RoaXMuc3R1QXR0ckxpc3Q7DQogICAgICBsZXQgc3R1QXR0ck1heE1pbkxpc3QgPSBfdGhpcy5zdHVBdHRyTWF4TWluTGlzdDsNCg0KICAgICAgbGV0IHJTaXplX2xpbmVhciA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFtzdHVBdHRyTWF4TWluTGlzdFsxXVsxXSwgc3R1QXR0ck1heE1pbkxpc3RbMV1bMF1dKS5yYW5nZShbMywgOF0pOw0KDQogICAgICBsZXQgc3R1TWF4Q29sb3IgPSBfdGhpcy5zdHVNYXhDb2xvcjsNCiAgICAgIGxldCBzdHVNaW5Db2xvciA9IF90aGlzLnN0dU1pbkNvbG9yOw0KICAgICAgbGV0IHN0dUNvbG9yX2xpbmVhciA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFtzdHVBdHRyTWF4TWluTGlzdFsxXVsxXSwgc3R1QXR0ck1heE1pbkxpc3RbMV1bMF1dKS5yYW5nZShbMCwgMV0pOw0KICAgICAgbGV0IHN0dUNvbXB1dGVfY29sb3IgPSBkMy5pbnRlcnBvbGF0ZShzdHVNaW5Db2xvciwgc3R1TWF4Q29sb3IpOw0KDQogICAgICBsZXQgZ3JvdXBEYXRhID0gdG9vbHMuZGVlcENsb25lKF90aGlzLmdyb3VwRGF0YSk7DQogICAgICBsZXQgY29sb3JMaXN0ID0gX3RoaXMubWNvbG9yOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cERhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IGN4ID0geFNpemVfbGluZWFyKGdyb3VwRGF0YVtpXVsneCddKTsNCiAgICAgICAgbGV0IGN5ID0geVNpemVfbGluZWFyKGdyb3VwRGF0YVtpXVsneSddKTsNCiAgICAgICAgbGV0IHNJZCA9IGdyb3VwRGF0YVtpXVsnaWQnXQ0KICAgICAgICBncm91cERhdGFbaV1bJ2N4J10gPSBjeDsNCiAgICAgICAgZ3JvdXBEYXRhW2ldWydjeSddID0gY3k7DQogICAgICAgIGdyb3VwRGF0YVtpXVsnciddID0gclNpemVfbGluZWFyKGdyb3VwRGF0YVtpXVthdHRyTGlzdFsxXV0pOw0KICAgICAgICBncm91cERhdGFbaV1bJ2ZpbGwnXSA9IHN0dUNvbXB1dGVfY29sb3Ioc3R1Q29sb3JfbGluZWFyKGdyb3VwRGF0YVtpXVthdHRyTGlzdFsxXV0pKSAvLydncmV5Jy8vY29sb3JMaXN0W3BhcnNlSW50KGdyb3VwRGF0YVtpXVsna21lYW5zQyddKV07DQogICAgICB9DQogICAgICBfdGhpcy5ncm91cERhdGEgPSBncm91cERhdGE7DQogICAgICBfdGhpcy51cGRhdGFTY2F0dGVyKCk7DQogICAgfSwNCg0KICAgIGRyYXdUeHQoc3ZnLCB4LCB5LCB0ZXh0LCBmaWxsLCBmb250c2l6ZSA9IDEyLCBpZE4sIGFuID0gJ3N0YXJ0Jykgew0KICAgICAgbGV0IHR4dCA9IHN2Zy5hcHBlbmQoInRleHQiKQ0KICAgICAgICAuYXR0cigieSIsIHkpDQogICAgICAgIC5hdHRyKCJ4IiwgeCkNCiAgICAgICAgLmF0dHIoImlkIiwgaWROKQ0KICAgICAgICAuYXR0cigiZmlsbCIsIGZpbGwpDQogICAgICAgIC5hdHRyKCJmb250LXNpemUiLCBmb250c2l6ZSkNCiAgICAgICAgLnN0eWxlKCJ0ZXh0LWFuY2hvciIsIGFuKQ0KICAgICAgICAudGV4dCh0ZXh0KQ0KICAgICAgcmV0dXJuIHR4dDsNCiAgICB9LA0KICAgIGRyYXdGaWd1cmVBbm5vdGF0aW9uKCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgbGV0IGZyb250RyA9IF90aGlzLnJvb3RTdmdmOw0KDQogICAgICBsZXQgc3R1TWF4Q29sb3IgPSBfdGhpcy5zdHVNYXhDb2xvcjsNCiAgICAgIGxldCBzdHVNaW5Db2xvciA9IF90aGlzLnN0dU1pbkNvbG9yOw0KDQogICAgICBsZXQgbGVuID0gNjsNCg0KICAgICAgbGV0IENvbG9yX2xpbmVhciA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBsZW5dKS5yYW5nZShbMCwgMV0pOw0KICAgICAgbGV0IFJzaXplX2xpbmVhciA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFswLCBsZW5dKS5yYW5nZShbMSwgNl0pOw0KICAgICAgbGV0IENvbXB1dGVfY29sb3IgPSBkMy5pbnRlcnBvbGF0ZShzdHVNaW5Db2xvciwgc3R1TWF4Q29sb3IpOw0KDQogICAgICBsZXQgdGV4dHNyID0gX3RoaXMuZHJhd1R4dChmcm9udEcsIDYsIDE1LCAiQmVzdFNjb3JlaW5nUmF0ZToiLCAiYmxhY2siLCAxMCwgYEZpZ1NjYXRlcl9jb25gKTsNCiAgICAgIGxldCB0ZXh0YXQgPSBfdGhpcy5kcmF3VHh0KGZyb250RywgNiwgNDUsICJBdHRlbXB0czoiLCAiYmxhY2siLCAxMCwgYEZpZ1NjYXRlcl9jb25gKTsNCiAgICAgIGxldCB0ZXh0YnMgPSBfdGhpcy5kcmF3VHh0KGZyb250RywgNiwgNzUsICJTY29yZWluZ1JhdGU6IiwgImJsYWNrIiwgMTAsIGBGaWdTY2F0ZXJfY29uYCk7DQogICAgICBsZXQgcHJleCA9IDA7DQogICAgICBsZXQgcHJlcnggPSAwOw0KICAgICAgbGV0IGNvbG9yU1IgPSBfdGhpcy5hdHRyQ29sb3JMaXN0WzBdOw0KICAgICAgbGV0IGNvbG9yQmVzdFMgPSBfdGhpcy5hdHRyQ29sb3JMaXN0WzFdOw0KICAgICAgbGV0IGNvbG9yQXR0ZW1wdHMgPSBfdGhpcy5hdHRyQ29sb3JMaXN0WzJdOw0KDQogICAgICBfdGhpcy5kcmF3UmVjdChmcm9udEcsIDEwLCA1OCwgNDAsIDUsIDAsICJyZ2IoMjMwLDIzMCwyMzApIiwgIjEiLCAiZ3JleSIsICIxIiwgYEZpZ1NjYXRlcl9jb25SZWN0Q29sb3JCYCwgJ0ZpZ1NjYXRlcicpOw0KICAgICAgX3RoaXMuZHJhd1JlY3QoZnJvbnRHLCAxMCwgNTgsIDMwLCA1LCAwLCBjb2xvckF0dGVtcHRzLCAiMSIsICJncmV5IiwgIjEiLCBgRmlnU2NhdGVyX2NvblJlY3RDb2xvcmAsICdGaWdTY2F0ZXInKTsNCg0KICAgICAgX3RoaXMuZHJhd1JlY3QoZnJvbnRHLCAxMCwgODgsIDQwLCA1LCAwLCAicmdiKDIzMCwyMzAsMjMwKSIsICIxIiwgImdyZXkiLCAiMSIsIGBGaWdTY2F0ZXJfY29uUmVjdEJgLCAnRmlnU2NhdGVyJyk7DQogICAgICBfdGhpcy5kcmF3UmVjdChmcm9udEcsIDEwLCA4OCwgMzAsIDUsIDAsIGNvbG9yU1IsICIxIiwgImdyZXkiLCAiMSIsIGBGaWdTY2F0ZXJfY29uUmVjdGAsICdGaWdTY2F0ZXInKTsNCg0KICAgICAgbGV0IHBhdGgxID0gZDMucGF0aCgpOw0KICAgICAgbGV0IHBvaW50cyA9IFtbMTAsIDUwXSwgWzEwLCA1NF0sIFsxNCwgNTBdLCBbMTAsIDU0XSwgWzE0LCA1OF0sIFsxMCwgNTRdLCBbMTAsIDU4XSwgWzEwLCA1NF0sIFs0MCwgNTRdLCBbNDAsIDU0XSwgWzM2LCA1MF0sIFs0MCwgNTRdLCBbMzYsIDU4XSwgWzQwLCA1NF0sIFs0MCwgNTBdLCBbNDAsIDU4XV0NCiAgICAgIGxldCBwb2ludHMyID0gW1sxMCwgODBdLCBbMTAsIDg0XSwgWzE0LCA4MF0sIFsxMCwgODRdLCBbMTQsIDg4XSwgWzEwLCA4NF0sIFsxMCwgODhdLCBbMTAsIDg0XSwgWzQwLCA4NF0sIFs0MCwgODRdLCBbMzYsIDgwXSwgWzQwLCA4NF0sIFszNiwgODhdLCBbNDAsIDg0XSwgWzQwLCA4MF0sIFs0MCwgODhdXQ0KICAgICAgbGV0IGN1cnZlX2dlbmVyYXRvciA9IGQzLmxpbmUoKQ0KICAgICAgICAueCgoZCkgPT4gZFswXSkNCiAgICAgICAgLnkoKGQpID0+IGRbMV0pDQogICAgICAvLyAuY3VydmUoZDMuY3VydmVCYXNpc0Nsb3NlZCkNCiAgICAgIF90aGlzLmRyYXdMaW5lKGZyb250RywgY3VydmVfZ2VuZXJhdG9yKHBvaW50cyksICJibGFjayIsIDEsICcwJywgJzEnLCBgbGluZTFgLCAnRmlnU2NhdGVyX2xpbmUxJywgInJnYigyMzAsMjMwLDIzMCkiKTsNCiAgICAgIF90aGlzLmRyYXdMaW5lKGZyb250RywgY3VydmVfZ2VuZXJhdG9yKHBvaW50czIpLCAiYmxhY2siLCAxLCAnMCcsICcxJywgYGxpbmUyYCwgJ0ZpZ1NjYXRlcl9saW5lMScsICJyZ2IoMjMwLDIzMCwyMzApIik7DQogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbiAqIDM7IGkrKykgew0KICAgICAgfQ0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykgew0KICAgICAgICBsZXQgY29sb3IgPSBDb21wdXRlX2NvbG9yKENvbG9yX2xpbmVhcihpKSk7DQogICAgICAgIGxldCBjaXJjbGUgPSBfdGhpcy5kcmF3Q2lyY2xlKGZyb250RywgMTUgKyBwcmV4LCAyMywgUnNpemVfbGluZWFyKGkpLCBjb2xvciwgMSwgIm5vbmUiLCAiMSIsICdGaWdTY2F0ZXInLCBgRmlnU2NhdGVyX2NvbkNvbG9yJHtpfWApOw0KICAgICAgICBwcmV4ICs9IFJzaXplX2xpbmVhcihpKSAqIDIgKyA0Ow0KICAgICAgICBwcmVyeCArPSBpICogNCArIDI7DQogICAgICB9DQoNCiAgICB9LA0KICAgIGRyYXdDb250b3VyKHN2Zykgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgZDMuc2VsZWN0QWxsKCIuY291bnRlciIpLnJlbW92ZSgpOw0KICAgICAgbGV0IGdyb3VwRGF0YSA9IHRvb2xzLmRlZXBDbG9uZShfdGhpcy5ncm91cERhdGEpOw0KICAgICAgbGV0IFNlbGVjdFN0dWRlbnRMaXN0ID0gX3RoaXMuU2VsZWN0U3R1ZGVudExpc3Q7DQogICAgICBsZXQgbm9kZXNMaXN0ID0gWw0KICAgICAgICBbXSwgW10sIFtdLCBbXSwgW10NCiAgICAgIF0NCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgU2VsZWN0U3R1ZGVudExpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBTZWxlY3RTdHVkZW50TGlzdFtpXS5sZW5ndGg7IGorKykgew0KICAgICAgICAgIGxldCBzdHVEID0gZ3JvdXBEYXRhLmZpbmQoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHNbJ2lkJ10gPT0gU2VsZWN0U3R1ZGVudExpc3RbaV1bal0gfSk7DQogICAgICAgICAgbGV0IHN0dVRlbXAgPSB7DQogICAgICAgICAgICB4OiBzdHVEWydjeCddLA0KICAgICAgICAgICAgeTogc3R1RFsnY3knXSwNCiAgICAgICAgICAgIHI6IHN0dURbJ3InXSArIDYgKiAzIC0gMw0KICAgICAgICAgIH0NCiAgICAgICAgICBub2Rlc0xpc3RbaV0ucHVzaChzdHVUZW1wKTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgbGV0IGNvbG9yTGlzdCA9IF90aGlzLnN0dUNvbG9yTGlzdDsNCiAgICAgIC8vIGZvcihsZXQgaT0wO2k8Z3JvdXBEYXRhLmxlbmd0aDtpKyspew0KICAgICAgLy8gICBsZXQgc0lkID0gZ3JvdXBEYXRhW2ldWydpZCddDQogICAgICAvLyAgICAgbm9kZXNMaXN0W3BhcnNlSW50KGdyb3VwRGF0YVtpXVsna21lYW5zQyddKV0ucHVzaCh7DQogICAgICAvLyAgICAgICB4Omdyb3VwRGF0YVtpXVsnY3gnXSwNCiAgICAgIC8vICAgICAgIHk6Z3JvdXBEYXRhW2ldWydjeSddLA0KICAgICAgLy8gICAgICAgcjpncm91cERhdGFbaV1bJ3InXQ0KICAgICAgLy8gICAgIH0pDQogICAgICAvLyB9DQogICAgICBsZXQgayA9IDA7DQogICAgICBub2Rlc0xpc3QuZm9yRWFjaChub2RlTGlzdCA9PiB7DQogICAgICAgIGxldCBwYXRoID0gY29udG91cihub2RlTGlzdCwgODApOw0KICAgICAgICBsZXQgY29udG91ckRhdGEgPSBfdGhpcy5hcmNzVG9QYXRocyhwYXRoKQ0KICAgICAgICBjb250b3VyRGF0YS5mb3JFYWNoKGNvbnRvdXJEID0+IHsNCiAgICAgICAgICBzdmcuYXBwZW5kKCJwYXRoIikNCiAgICAgICAgICAgIC5hdHRyKCJjbGFzcyIsICJjb3VudGVyIikNCiAgICAgICAgICAgIC5hdHRyKCJkIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29udG91ckQuZDsgfSkNCiAgICAgICAgICAgIC5zdHlsZSgic3Ryb2tlIiwgY29sb3JMaXN0W3BhcnNlSW50KGspXSkNCiAgICAgICAgICAgIC5zdHlsZSgic3Ryb2tlLXdpZHRoIiwgMykNCiAgICAgICAgICAgIC5zdHlsZSgib3BhY2l0eSIsIDEpDQogICAgICAgICAgICAvLyAuYXR0cigic3Ryb2tlLWRhc2hhcnJheSIsICIzIikNCiAgICAgICAgICAgIC8vIC5hdHRyKCJzdHJva2UtZGFzaG9mZnNldCIsICIzMCIpDQogICAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gY29udG91ckQudHJhbnNmb3JtOyB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgaysrOw0KICAgICAgfSkNCg0KICAgIH0sDQogICAgZHJhd1BvbHlnb24oc3ZnLCBwb2ludHMsIGlkTmFtZSwgc3Ryb2tlV2lkdGgsIHN0cm9rZSwgZmlsbCkgew0KICAgICAgbGV0IHBvbHlnb24gPSBzdmcuYXBwZW5kKCJwb2x5Z29uIikNCiAgICAgICAgLmF0dHIoInBvaW50cyIsIHBvaW50cykNCiAgICAgICAgLmF0dHIoImlkIiwgaWROYW1lKQ0KICAgICAgICAuYXR0cigic3Ryb2tlLWxpbmVqb2luIiwgInJvdW5kIikNCg0KICAgICAgICAuYXR0cigic3Ryb2tlLXdpZHRoIiwgc3Ryb2tlV2lkdGgpDQogICAgICAgIC5hdHRyKCJmaWxsIiwgZmlsbCkNCiAgICAgICAgLmF0dHIoInN0cm9rZSIsIHN0cm9rZSkNCiAgICAgIHJldHVybiBwb2x5Z29uOw0KICAgIH0sDQogICAgYXJjc1RvUGF0aHMoYXJjcykgew0KICAgICAgbGV0IHBhdGhzID0gW107DQogICAgICBsZXQgYXJjR2VuID0gZDMuYXJjKCk7DQoNCiAgICAgIGFyY3MuZm9yRWFjaChmdW5jdGlvbiAoYXJjKSB7DQogICAgICAgIGxldCBzdGFydEFuZ2xlVGVtcCA9IGFyYy5zdGFydEFuZ2xlOw0KDQogICAgICAgIGlmIChzdGFydEFuZ2xlVGVtcCA+IGFyYy5lbmRBbmdsZSkgew0KICAgICAgICAgIHN0YXJ0QW5nbGVUZW1wIC09IDIgKiBNYXRoLlBJOw0KICAgICAgICB9DQoNCiAgICAgICAgcGF0aHMucHVzaCh7DQogICAgICAgICAgZDogYXJjR2VuKHsNCiAgICAgICAgICAgIGlubmVyUmFkaXVzOiBhcmMucmFkaXVzLA0KICAgICAgICAgICAgb3V0ZXJSYWRpdXM6IGFyYy5yYWRpdXMsDQogICAgICAgICAgICBzdGFydEFuZ2xlOiBzdGFydEFuZ2xlVGVtcCwNCiAgICAgICAgICAgIGVuZEFuZ2xlOiBhcmMuZW5kQW5nbGUNCiAgICAgICAgICB9KSwNCiAgICAgICAgICB0cmFuc2Zvcm06ICJ0cmFuc2xhdGUoIiArIGFyYy5jZW50ZXIueCArICIsIiArIGFyYy5jZW50ZXIueSArICIpIg0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KDQogICAgICByZXR1cm4gcGF0aHM7DQogICAgfSwNCiAgICBkcmF3Q2lyY2xlKHN2ZywgeCwgeSwgciwgZmlsbCwgb3BhY2l0eSwgc3Ryb2tlLCB3aWR0aCwgY2xhc3NOYW1lID0gJ2VudENpcmNsZScsIGlkTmFtZSkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KDQogICAgICBkMy5zZWxlY3QoYCMke2lkTmFtZX1gKS5yZW1vdmUoKTsNCiAgICAgIGxldCBjaXJjbGUgPSBzdmcuYXBwZW5kKCJjaXJjbGUiKQ0KICAgICAgICAuYXR0cigiaWQiLCBpZE5hbWUpDQogICAgICAgIC5hdHRyKCJjbGFzcyIsIGNsYXNzTmFtZSkNCiAgICAgICAgLmF0dHIoIm9wYWNpdHkiLCBvcGFjaXR5KQ0KICAgICAgICAuYXR0cigiY3giLCB4KQ0KICAgICAgICAuYXR0cigiY3kiLCB5KQ0KICAgICAgICAuYXR0cigiciIsIHIpDQogICAgICAgIC5hdHRyKCdzdHJva2UnLCBzdHJva2UpDQogICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCB3aWR0aCkNCiAgICAgICAgLmF0dHIoImZpbGwiLCBmaWxsKQ0KICAgICAgcmV0dXJuIGNpcmNsZTsNCiAgICB9LA0KDQogICAgZHJhd0xpbmUoc3ZnLCBwYXRoLCBzdHJva2UsIHdpZHRoLCBzdHJva2VfZGFzaGFycmF5ID0gIjAiLCBvcGFjaXR5LCBpZE5hbWUsIGNsYXNzTmFtZSwgZmlsbCA9ICdub25lJykgew0KICAgICAgZDMuc2VsZWN0KGAjJHtpZE5hbWV9YCkucmVtb3ZlKCk7DQogICAgICBsZXQgbGluZSA9IHN2Zy5hcHBlbmQoJ3BhdGgnKQ0KICAgICAgICAuYXR0cignZCcsIHBhdGgudG9TdHJpbmcoKSkNCiAgICAgICAgLmF0dHIoJ3N0cm9rZScsIHN0cm9rZSkNCiAgICAgICAgLmF0dHIoJ2NsYXNzJywgY2xhc3NOYW1lKQ0KICAgICAgICAuYXR0cignaWQnLCBpZE5hbWUpDQogICAgICAgIC5hdHRyKCJzdHJva2UtZGFzaGFycmF5Iiwgc3Ryb2tlX2Rhc2hhcnJheSkNCiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIHdpZHRoKQ0KICAgICAgICAuc3R5bGUoInN0cm9rZS1vcGFjaXR5Iiwgb3BhY2l0eSkNCiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmaWxsKQ0KICAgICAgcmV0dXJuIGxpbmU7DQogICAgfSwNCiAgICBnZXRNYXhNaW4oZGF0YSwgYXR0cm5hbWUpIHsNCiAgICAgIHJldHVybiBbDQogICAgICAgIE1hdGgubWF4LmFwcGx5KE1hdGgsIGRhdGEubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkW2F0dHJuYW1lXTsgfSkpLA0KICAgICAgICBNYXRoLm1pbi5hcHBseShNYXRoLCBkYXRhLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFthdHRybmFtZV07IH0pKQ0KICAgICAgXQ0KICAgIH0sDQogICAgbW91c2VEb3duKGV2ZW50KSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBfdGhpcy5qZ0RyYWcgPSBmYWxzZTsNCiAgICAgIGxldCBlbnRHID0gX3RoaXMuZW50Rw0KICAgICAgbGV0IHN4ID0gZXZlbnQubGF5ZXJYIC0gX3RoaXMuc2NhdHRlckdUcmFuc2Zvcm1YOw0KICAgICAgbGV0IHN5ID0gZXZlbnQubGF5ZXJZIC0gX3RoaXMuc2NhdHRlckdUcmFuc2Zvcm1ZOw0KICAgICAgX3RoaXMuc2VsZWN0U3RhcnRYID0gc3g7DQogICAgICBfdGhpcy5zZWxlY3RTdGFydFkgPSBzeTsNCiAgICAgIC8vIF90aGlzLmRyYXdSZWN0KGVudEcsIHN4LCBzeSwgMTAwLCAxMDAsIDEwLCAiZ3JleSIsICI1IiwgIm5vbmUiLCIwLjEiLCBgU2VsZWN0UmVjdGAsICdTZWxlY3RSZWN0Jyk7DQogICAgICB0aGlzLiRyZWZzLmxpc3Rlbi5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCBfdGhpcy5tb3VzZU1vdmUpOw0KICAgIH0sDQogICAgbW91c2VNb3ZlKGV2ZW50KSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgZW50RyA9IF90aGlzLmVudEcNCiAgICAgIGxldCB0eCA9IGV2ZW50LmxheWVyWCAtIF90aGlzLnNjYXR0ZXJHVHJhbnNmb3JtWDsNCiAgICAgIGxldCB0eSA9IGV2ZW50LmxheWVyWSAtIF90aGlzLnNjYXR0ZXJHVHJhbnNmb3JtWTsNCg0KICAgICAgX3RoaXMuc2VsZWN0RW5kWCA9IHR4Ow0KICAgICAgX3RoaXMuc2VsZWN0RW5kWSA9IHR5Ow0KICAgICAgbGV0IHN4ID0gX3RoaXMuc2VsZWN0U3RhcnRYOw0KICAgICAgbGV0IHN5ID0gX3RoaXMuc2VsZWN0U3RhcnRZOw0KDQoNCiAgICAgIGxldCBtaW54ID0gc3ggPCB0eCA/IHN4IDogdHg7DQogICAgICBsZXQgbWlueSA9IHN5IDwgdHkgPyBzeSA6IHR5Ow0KICAgICAgbGV0IG1heHggPSBzeCA+IHR4ID8gc3ggOiB0eDsNCiAgICAgIGxldCBtYXh5ID0gc3kgPiB0eSA/IHN5IDogdHk7DQogICAgICBfdGhpcy5kcmF3UmVjdChlbnRHLCBtaW54LCBtaW55LCBtYXh4IC0gbWlueCwgbWF4eSAtIG1pbnksIDEwLCAiZ3JleSIsICI1IiwgIm5vbmUiLCAiMC4xIiwgYFNlbGVjdFJlY3RgLCAnU2VsZWN0UmVjdCcpOw0KICAgICAgdGhpcy4kcmVmcy5saXN0ZW4uYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsIF90aGlzLm1vdXNlVXApOw0KICAgICAgLy8gdGhpcy4kcmVmcy5zY2F0dGVyQy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCBfdGhpcy5tb3VzZURvd24pOw0KICAgIH0sDQogICAgbW91c2VVcChldmVudCkgew0KICAgICAgY29uc3QgX3RoaXMgPSB0aGlzOw0KICAgICAgdGhpcy4kcmVmcy5saXN0ZW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgX3RoaXMubW91c2VNb3ZlKTsNCiAgICAgIF90aGlzLmpnRHJhZyA9IHRydWU7DQoNCiAgICAgIGQzLnNlbGVjdCgiLmNsb3NlIikuY2xhc3NlZCgiaGlkZGVuIiwgdHJ1ZSk7DQogICAgICB0aGlzLmdldFNlbGVjdFN0dWRlbnRMaXN0KCk7DQogICAgICAvLyB0aGlzLiRyZWZzLnNjYXR0ZXJDYW50YWluLnJlbW92ZUV2ZW50TCgibW91c2V1cCIsIF90aGlzLm1vdXNlVXApOw0KICAgICAgLy8gdGhpcy4kcmVmcy5zY2F0dGVyQy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWRvd24iLCBfdGhpcy5tb3VzZURvd24pOw0KICAgIH0sDQogICAgZ2V0U2VsZWN0U3R1ZGVudExpc3QoKSB7DQogICAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgdGVtcCA9IHRvb2xzLmRlZXBDbG9uZShfdGhpcy5TZWxlY3RTdHVkZW50TGlzdCk7DQogICAgICBsZXQgZ3JvdXBEYXRhID0gX3RoaXMuZ3JvdXBEYXRhOw0KICAgICAgbGV0IHN4ID0gX3RoaXMuc2VsZWN0U3RhcnRYOw0KICAgICAgbGV0IHN5ID0gX3RoaXMuc2VsZWN0U3RhcnRZOw0KICAgICAgbGV0IHR4ID0gX3RoaXMuc2VsZWN0RW5kWDsNCiAgICAgIGxldCB0eSA9IF90aGlzLnNlbGVjdEVuZFk7DQogICAgICBfdGhpcy5zZWxlY3RTdGFydFggPSAwOw0KICAgICAgX3RoaXMuc2VsZWN0U3RhcnRZID0gMDsNCiAgICAgIF90aGlzLnNlbGVjdEVuZFggPSAwOw0KICAgICAgX3RoaXMuc2VsZWN0RW5kWSA9IDA7DQogICAgICBsZXQgbWlueCA9IHN4IDwgdHggPyBzeCA6IHR4Ow0KICAgICAgbGV0IG1pbnkgPSBzeSA8IHR5ID8gc3kgOiB0eTsNCiAgICAgIGxldCBtYXh4ID0gc3ggPiB0eCA/IHN4IDogdHg7DQogICAgICBsZXQgbWF4eSA9IHN5ID4gdHkgPyBzeSA6IHR5Ow0KICAgICAgbGV0IFNlbGVjdFN0dWRlbnRMaXN0ID0gW107DQogICAgICBsZXQgQnVTZWxlY3RTdHVkZW50TGlzdCA9IFtdOw0KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cERhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgbGV0IGN4ID0gZ3JvdXBEYXRhW2ldWydjeCddOw0KICAgICAgICBsZXQgY3kgPSBncm91cERhdGFbaV1bJ2N5J107DQogICAgICAgIGxldCBzSWQgPSBncm91cERhdGFbaV1bJ2lkJ107DQogICAgICAgIGlmICgoKGN4ID4gbWlueCkgJiYgKGN4IDwgbWF4eCkpICYmICgoY3kgPiBtaW55KSAmJiAoY3kgPCBtYXh5KSkpIHsNCiAgICAgICAgICBsZXQgamcgPSAwOw0KICAgICAgICAgIHRlbXAuZm9yRWFjaCh0ID0+IHsNCiAgICAgICAgICAgIHQuZm9yRWFjaChzID0+IHsNCiAgICAgICAgICAgICAgaWYgKHMgPT0gc0lkKQ0KICAgICAgICAgICAgICAgIGpnID0gMTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgfSkNCiAgICAgICAgICBpZiAoamcgPT0gMCkNCiAgICAgICAgICAgIFNlbGVjdFN0dWRlbnRMaXN0LnB1c2goc0lkKTsNCiAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICBlbHNlew0KICAgICAgICAgIGxldCBqZyA9IDA7DQogICAgICAgICAgdGVtcC5mb3JFYWNoKHQgPT4gew0KICAgICAgICAgICAgdC5mb3JFYWNoKHMgPT4gew0KICAgICAgICAgICAgICBpZiAocyA9PSBzSWQpDQogICAgICAgICAgICAgICAgamcgPSAxOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICB9KQ0KICAgICAgICAgIGlmIChqZyA9PSAwKQ0KICAgICAgICAgICAgQnVTZWxlY3RTdHVkZW50TGlzdC5wdXNoKHNJZCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIGxldCBzZWxlY3RHcm91cElkID0gX3RoaXMuc2VsZWN0R3JvdXBJZDsNCiAgICAgIHRlbXBbc2VsZWN0R3JvdXBJZF0gPSBTZWxlY3RTdHVkZW50TGlzdDsNCiAgICAgIGlmKChzZWxlY3RHcm91cElkID09IDEpKXsNCiAgICAgICAgdGVtcFsyXSA9IEJ1U2VsZWN0U3R1ZGVudExpc3Q7DQogICAgICB9DQogICAgICBfdGhpcy5TZWxlY3RTdHVkZW50TGlzdCA9IHRlbXA7DQogICAgfSwNCiAgICBkcmF3UmVjdChzdmcsIHgsIHksIHcsIGgsIHJ4LCBmaWxsLCBzdHJva2VXaWR0aCwgc3Ryb2tlLCBvcGFjaXR5LCBpZE5hbWUsIGNsYXNzTmFtZSkgew0KICAgICAgZDMuc2VsZWN0KGAjJHtpZE5hbWV9YCkucmVtb3ZlKCk7DQogICAgICBsZXQgcmVjdCA9IHN2Zy5hcHBlbmQoInJlY3QiKQ0KICAgICAgICAuYXR0cigieCIsIHgpDQogICAgICAgIC5hdHRyKCJ5IiwgeSkNCiAgICAgICAgLmF0dHIoIndpZHRoIiwgdykNCiAgICAgICAgLmF0dHIoImhlaWdodCIsIGgpDQogICAgICAgIC5hdHRyKCJpZCIsIGlkTmFtZSkNCiAgICAgICAgLmF0dHIoImNsYXNzIiwgY2xhc3NOYW1lKQ0KICAgICAgICAuYXR0cigib3BhY2l0eSIsIG9wYWNpdHkpDQogICAgICAgIC5hdHRyKCJmaWxsIiwgZmlsbCkNCiAgICAgICAgLmF0dHIoInJ4IiwgcngpDQogICAgICAgIC5hdHRyKCJzdHJva2UiLCBzdHJva2UpDQogICAgICAgIC5hdHRyKCJzdHJva2Utd2lkdGgiLCBzdHJva2VXaWR0aCkNCiAgICAgIHJldHVybiByZWN0Ow0KICAgIH0sDQogICAgdXBkYXRhU2NhdHRlcigpIHsNCiAgICAgIGNvbnN0IF90aGlzID0gdGhpczsNCiAgICAgIGxldCBlbnRHID0gX3RoaXMuZW50RzsNCiAgICAgIGxldCBncm91cERhdGEgPSBfdGhpcy5ncm91cERhdGE7DQogICAgICBsZXQgU2VsZWN0U3R1ZGVudExpc3QgPSBfdGhpcy5TZWxlY3RTdHVkZW50TGlzdDsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBEYXRhLmxlbmd0aDsgaSsrKSB7DQogICAgICAgIGxldCBjeCA9IGdyb3VwRGF0YVtpXVsnY3gnXTsNCiAgICAgICAgbGV0IGN5ID0gZ3JvdXBEYXRhW2ldWydjeSddOw0KICAgICAgICBsZXQgciA9IGdyb3VwRGF0YVtpXVsnciddDQogICAgICAgIGxldCBzSWQgPSBncm91cERhdGFbaV1bJ2lkJ10NCiAgICAgICAgbGV0IGZpbGwgPSBncm91cERhdGFbaV1bJ2ZpbGwnXTsNCiAgICAgICAgbGV0IG9wYWNpdHkgPSAxOw0KICAgICAgICAvLyBpZihTZWxlY3RTdHVkZW50TGlzdC5pbmRleE9mKHNJZCkhPS0xKXsNCiAgICAgICAgLy8gICBvcGFjaXR5ID0gMTsNCiAgICAgICAgLy8gfQ0KICAgICAgICBfdGhpcy5kcmF3Q2lyY2xlKGVudEcsIGN4LCBjeSwgciwgZmlsbCwgb3BhY2l0eSwgImdyZXkiLCAiMCIsICdlbnRTdHUnLCBgZW50U3R1XyR7c0lkfWApOw0KICAgICAgICBsZXQgc3R1QXR0ckxpc3QgPSBfdGhpcy5zdHVBdHRyTGlzdDsNCiAgICAgICAgbGV0IHN0dUF0dHJNYXhNaW5MaXN0ID0gX3RoaXMuc3R1QXR0ck1heE1pbkxpc3Q7DQogICAgICAgIGxldCBhdHRyTGVuID0gc3R1QXR0ckxpc3QubGVuZ3RoOw0KICAgICAgICBsZXQgY29sb3JMaXN0ID0gX3RoaXMuYXR0ckNvbG9yTGlzdDsNCiAgICAgICAgbGV0IHN0YXJSID0gMDsvLy1NYXRoLlBJLzI7DQogICAgICAgIGxldCBzdGVwSCA9IDc7DQogICAgICAgIGxldCBwZXJoID0gcjsNCiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhdHRyTGVuOyBqKyspIHsNCiAgICAgICAgICBpZiAoc3R1QXR0ckxpc3Rbal0gPT0gJ2Jlc3RTY29yZScpIHsNCg0KICAgICAgICAgIH0NCiAgICAgICAgICBlbHNlIGlmIChzdHVBdHRyTGlzdFtqXSA9PSAnYWNjZXB0ZWROdW0nKSB7DQoNCiAgICAgICAgICB9DQogICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBsZXQgQW5nbGVfbGluZWFyID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIHN0dUF0dHJNYXhNaW5MaXN0W2pdWzBdXSkucmFuZ2UoWzAsIE1hdGguUEkgKiAyXSk7DQogICAgICAgICAgICBsZXQgaCA9IHBlcmggKyBzdGVwSDsNCiAgICAgICAgICAgIHZhciBkYXRhc2V0ID0geyBzdGFydEFuZ2xlOiBzdGFyUiwgZW5kQW5nbGU6IHN0YXJSICsgQW5nbGVfbGluZWFyKGdyb3VwRGF0YVtpXVtzdHVBdHRyTGlzdFtqXV0pIH07IC8v5Yib5bu65LiA5Liq5byn55Sf5oiQ5ZmoDQogICAgICAgICAgICB2YXIgZGF0YXNldEIgPSB7IHN0YXJ0QW5nbGU6IHN0YXJSLCBlbmRBbmdsZTogc3RhclIgKyBNYXRoLlBJICogMiB9OyAvL+WIm+W7uuS4gOS4quW8p+eUn+aIkOWZqA0KICAgICAgICAgICAgdmFyIGFyY1BhdGggPSBkMy5hcmMoKQ0KICAgICAgICAgICAgICAuaW5uZXJSYWRpdXMocGVyaCkNCiAgICAgICAgICAgICAgLm91dGVyUmFkaXVzKGggLSAxKTsNCiAgICAgICAgICAgIHZhciBhcmNQYXRoQmFjayA9IGQzLmFyYygpDQogICAgICAgICAgICAgIC5pbm5lclJhZGl1cygxKQ0KICAgICAgICAgICAgICAub3V0ZXJSYWRpdXMoaCArIDIpOw0KICAgICAgICAgICAgcGVyaCA9IGg7DQogICAgICAgICAgICB2YXIgcGF0aEFyYyA9IGFyY1BhdGgoZGF0YXNldCk7DQogICAgICAgICAgICB2YXIgcGF0aEFyY0IgPSBhcmNQYXRoKGRhdGFzZXRCKTsNCiAgICAgICAgICAgIGxldCBlbnRDb2xvciA9IGNvbG9yTGlzdFtqXTsvL2ltcG9ydGFuY2VDb21wdXRlX2NvbG9yKGltcG9ydGFuY2VDb2xvcl9saW5lYXIoY3VyRW50WydzY29yaW5nUmF0ZSddKSk7DQogICAgICAgICAgICAvLyBfdGhpcy5kcmF3QXJjKGVudEcsIDAsIDAsIGFyY1BhdGhCYWNrKGRhdGFzZXQpLCAiIzAwMCIsICIjMDAwIiwgJ3R5cGUnLCAwLCAzKTsNCiAgICAgICAgICAgIF90aGlzLmRyYXdBcmMoZW50RywgY3gsIGN5LCBwYXRoQXJjQiwgZmlsbCwgInJnYigyMzAsMjMwLDIzMCkiLCAndHlwZUInLCBgc3R1QXR0ckJfJHtzSWR9XyR7an1gLCAwLCAwKTsNCiAgICAgICAgICAgIF90aGlzLmRyYXdBcmMoZW50RywgY3gsIGN5LCBwYXRoQXJjLCBlbnRDb2xvciwgZW50Q29sb3IsICd0eXBlJywgYHN0dUF0dHJfJHtzSWR9XyR7an1gLCAwLCAwKTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBsZXQgY2lyY2xlID0gX3RoaXMuZHJhd0NpcmNsZShlbnRHLCBjeCwgY3ksIDI1LCBmaWxsLCAwLCAiZ3JleSIsICIwIiwgJ2VudFN0dUYnLCBgZW50U3R1Rl8ke3NJZH1fJHtpfWApOw0KICAgICAgICBjaXJjbGUub24oIm1vdXNlbW92ZSIsIGZ1bmN0aW9uIChkKSB7DQogICAgICAgICAgbGV0IHRzID0gZDMuc2VsZWN0KHRoaXMpOw0KICAgICAgICAgIGxldCBpZCA9IHRzLmF0dHIoImlkIikuc3BsaXQoIl8iKVsxXTsNCiAgICAgICAgICBfdGhpcy5vdmVyU2NhdHRlclN0dUlkID0gaWQ7DQoNCiAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJTZWxlY3RpbmdTdHUiLCBfdGhpcy5vdmVyU2NhdHRlclN0dUlkKTsNCg0KICAgICAgICAgIGxldCBpZG9kID0gdHMuYXR0cigiaWQiKS5zcGxpdCgiXyIpWzJdOw0KICAgICAgICAgIGxldCBjbGFzTiA9IHRzLmF0dHIoImNsYXNzIik7DQogICAgICAgICAgbGV0IG5hbWV0ZXh0ID0gJyc7DQogICAgICAgICAgbGV0IGVudCA9IGdyb3VwRGF0YS5maW5kKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjWydpZCddID09IGlkIH0pOw0KICAgICAgICAgIHZhciB5UG9zaXRpb24gPSBkLmNsaWVudFkgKyAyMDsNCiAgICAgICAgICB2YXIgeFBvc2l0aW9uID0gZC5jbGllbnRYICsgMjA7DQogICAgICAgICAgDQogICAgICAgICAgaWYoZC5jbGllbnRYPjIxMDApew0KICAgICAgICAgICAgeFBvc2l0aW9uID0gZC5jbGllbnRYIC0gMjEwOw0KICAgICAgICAgIH0NCiAgICAgICAgICBsZXQgc3J0ZXh0ID0gZW50WydzY29yaW5nUmF0ZSddOw0KICAgICAgICAgIGxldCB0b3RhbEF0dGVtcHRzVHh0ID0gZW50Wyd0b3RhbEF0dGVtcHRzJ107DQogICAgICAgICAgbGV0IGJlc3RTY29yZSA9IGVudFsnYmVzdFNjb3JlJ10NCiAgICAgICAgICB2YXIgc2NhdHRlclRvb2x0aXAgPSBkMw0KICAgICAgICAgICAgLnNlbGVjdCgiLnNjYXR0ZXJUb29sdGlwIikNCiAgICAgICAgICAgIC5zdHlsZSgibGVmdCIsIHhQb3NpdGlvbiArICJweCIpDQogICAgICAgICAgICAuc3R5bGUoInRvcCIsIHlQb3NpdGlvbiArICJweCIpOw0KICAgICAgICAgIC8vIOabtOaWsOa1ruWxguWGheWuuQ0KICAgICAgICAgIGxldCBhdHRyID0gWydzY29yaW5nUmF0ZScsICd0b3RhbEF0dGVtcHRzJywnYmVzdFNjb3JlJ107DQogICAgICAgICAgbGV0IGF0dHJOID0gWydTY29yaW5nIFJhdGUnLCAnQXR0ZW1wdHMnLCAnYmVzdFNjb3JlUmF0ZScsICdSZWwgQ291bnQnXTsNCiAgICAgICAgICAvLyDmm7TmlrDmta7lsYLlhoXlrrkNCiAgICAgICAgICBmb3IgKGxldCBhID0gMDsgYSA8IGF0dHIubGVuZ3RoOyBhKyspIHsNCg0KICAgICAgICAgICAgc2NhdHRlclRvb2x0aXAuc2VsZWN0KGAuYXR0ciR7YX1gKS50ZXh0KGAke2F0dHJOW2FdfSA6ICR7ZW50W2F0dHJbYV1dfWApDQogICAgICAgICAgICBpZihhdHRyTlthXSA9PSAnU2NvcmluZyBSYXRlJykNCiAgICAgICAgICAgICAgc2NhdHRlclRvb2x0aXAuc2VsZWN0KGAuYXR0ciR7YX1gKS50ZXh0KGAke2F0dHJOW2FdfSA6ICR7ZW50W2F0dHJbYV1dLnRvRml4ZWQoMil9YCkNCiAgICAgICAgICB9DQogICAgICAgICAgc2NhdHRlclRvb2x0aXAuc2VsZWN0KCIubmFtZSIpLnRleHQoYFN0dWRlbnQke2krMX1gKTsNCiAgICAgICAgICAvLyDnp7vpmaTmta7lsYJoaWRkZW7moLflvI/vvIzlsZXnpLrmta7lsYINCiAgICAgICAgICBzY2F0dGVyVG9vbHRpcC5jbGFzc2VkKCJoaWRkZW4iLCBmYWxzZSk7DQogICAgICAgIH0pLm9uKCJtb3VzZWxlYXZlIiwgZnVuY3Rpb24gKGQpIHsNCiAgICAgICAgICBfdGhpcy4kYnVzLiRlbWl0KCJTZWxlY3RpbmdTdHUiLCAiIik7DQogICAgICAgICAgZDMuc2VsZWN0KCIuc2NhdHRlclRvb2x0aXAiKS5jbGFzc2VkKCJoaWRkZW4iLCB0cnVlKTsNCiAgICAgICAgfSkNCiAgICAgIH0NCiAgICB9LA0KDQogICAgZHJhd0FyYyhzdmcsIHgsIHksIGFyY1BhdGgsIHN0cm9rZSwgZmlsbCwgY2xhc3NOYW1lLCBpZE4sIHN0cm9rZV9kYXNoYXJyYXkgPSAiMCIsIHdpZHRoID0gMykgew0KICAgICAgZDMuc2VsZWN0KGAjJHtpZE59YCkucmVtb3ZlKCk7DQogICAgICBzdmcuYXBwZW5kKCJwYXRoIikNCiAgICAgICAgLmF0dHIoImQiLCBhcmNQYXRoKQ0KICAgICAgICAuYXR0cigiY2xhc3MiLCBjbGFzc05hbWUpDQogICAgICAgIC5hdHRyKCJpZCIsIGlkTikNCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoIiArIHggKyAiLCIgKyB5ICsgIikiKQ0KICAgICAgICAuYXR0cigic3Ryb2tlIiwgc3Ryb2tlKQ0KICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgd2lkdGgpDQogICAgICAgIC5hdHRyKCJzdHJva2UtZGFzaGFycmF5Iiwgc3Ryb2tlX2Rhc2hhcnJheSkNCiAgICAgICAgLmF0dHIoInN0cm9rZS1saW5lam9pbiIsICJyb3VuZCIpDQogICAgICAgIC5hdHRyKCJmaWxsIiwgZmlsbCkNCiAgICB9LA0KICAgIHVwZGF0YUFsbCgpIHsNCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgICBsZXQgbWFyZ2luID0gX3RoaXMubWFyZ2luDQogICAgICBsZXQgd2lkdGggPSBfdGhpcy4kcmVmcy5zY2F0dGVyRGl2Lm9mZnNldFdpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7DQogICAgICBsZXQgaGVpZ2h0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNjYXR0ZXJDYW50YWluIikuY2xpZW50SGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207DQogICAgICBfdGhpcy53aWR0aCA9IHdpZHRoOw0KICAgICAgX3RoaXMuaGVpZ2h0ID0gaGVpZ2h0Ow0KICAgICAgZDMuc2VsZWN0KCIjc2NhdHRlckNhbnRhaW4iKS5zZWxlY3QoInN2ZyIpLnJlbW92ZSgpDQogICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCIjc2NhdHRlckNhbnRhaW4iKS5hcHBlbmQoInN2ZyIpDQogICAgICAgIC5hdHRyKCJ3aWR0aCIsIHdpZHRoIC0gMCkNCiAgICAgICAgLmF0dHIoImhlaWdodCIsIGhlaWdodCAtIDUwKQ0KICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLDApJykNCiAgICAgICAgLnN0eWxlKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpOw0KDQogICAgICB2YXIgc3ZnZiA9IGQzLnNlbGVjdCgiI3NjYXR0ZXJDYW50YWluIikuYXBwZW5kKCJzdmciKQ0KICAgICAgICAuYXR0cigid2lkdGgiLCB3aWR0aCkNCiAgICAgICAgLmF0dHIoImhlaWdodCIsIGhlaWdodCkNCiAgICAgIF90aGlzLnJvb3RTdmcgPSBzdmc7DQogICAgICBfdGhpcy5yb290U3ZnZiA9IHN2Z2Y7DQoNCiAgICAgIF90aGlzLnJvb3RTdmdGaWcgPSBzdmc7DQogICAgICBsZXQgZGF0YSA9IF90aGlzLmdyb3VwRGF0YTsNCiAgICAgIGxldCBNYXhNaW5YID0gX3RoaXMuZ2V0TWF4TWluKGRhdGEsICd4Jyk7DQogICAgICBsZXQgTWF4TWluWSA9IF90aGlzLmdldE1heE1pbihkYXRhLCAneScpOw0KDQogICAgICBsZXQgc3R1QXR0ckxpc3QgPSBbJ3Njb3JpbmdSYXRlJywgJ2Jlc3RTY29yZScsICd0b3RhbEF0dGVtcHRzJywgJ2FjY2VwdGVkTnVtJ10vLywndGltZSddDQogICAgICBfdGhpcy5zdHVBdHRyTGlzdCA9IHN0dUF0dHJMaXN0Ow0KICAgICAgbGV0IHN0dUF0dHJNYXhNaW5MaXN0ID0gW107DQoNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3R1QXR0ckxpc3QubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgc3R1QXR0ck1heE1pbkxpc3QucHVzaChfdGhpcy5nZXRNYXhNaW4oZGF0YSwgc3R1QXR0ckxpc3RbaV0pKTsNCiAgICAgIH0NCiAgICAgIF90aGlzLnN0dUF0dHJNYXhNaW5MaXN0ID0gc3R1QXR0ck1heE1pbkxpc3Q7DQoNCiAgICAgIF90aGlzLk1heE1pblggPSBNYXhNaW5YOw0KICAgICAgX3RoaXMuTWF4TWluWSA9IE1heE1pblk7DQoNCiAgICAgIF90aGlzLmRyYXdNYWluKHN2Zyk7DQogICAgICAvLyB9KTsNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHZhciBfdGhpcyA9IHRoaXM7DQogICAgbGV0IG1hcmdpbiA9IF90aGlzLm1hcmdpbg0KICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICB9KTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBjb25zdCBfdGhpcyA9IHRoaXM7DQoNCiAgICBkMy5zZWxlY3QoIi5zY2F0dGVyVG9vbHRpcCIpLmNsYXNzZWQoImhpZGRlbiIsIHRydWUpOw0KICAgIHRoaXMuJGJ1cy4kb24oJ2dyb3VwRGF0YScsICh2YWwpID0+IHsNCiAgICAgIF90aGlzLmdyb3VwRGF0YSA9IHZhbDsNCiAgICAgIHRoaXMudXBkYXRhQWxsKCk7DQogICAgfSk7DQoNCiAgICAvLyB0aGlzLiRidXMuJG9uKCdhdHRyQ29sb3JMaXN0JywgKHZhbCkgPT4ge190aGlzLmF0dHJDb2xvckxpc3QgPSB2YWw7fSk7DQogICAgdGhpcy4kYnVzLiRvbignc3R1Q29sb3JMaXN0JywgKHZhbCkgPT4geyBfdGhpcy5zdHVDb2xvckxpc3QgPSB2YWw7IH0pOw0KICAgIC8vIHRoaXMuJHJlZnMuc2NhdHRlckNhbnRhaW4uYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vkb3duIiwgX3RoaXMubW91c2VEb3duKTsgLy8g55uR5ZCs54K55Ye75LqL5Lu2DQogICAgLy8gdGhpcy4kcmVmcy5tb3Zlc2NhdHRlclJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIF90aGlzLm1vdmVzY2F0dGVyUmlnaHQpOyAvLyDnm5HlkKzngrnlh7vkuovku7YNCiAgICAvLyB0aGlzLiRyZWZzLm1vdmVzY2F0dGVyTGVmdC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgX3RoaXMubGVhdmVzY2F0dGVyTW92ZSk7IC8vIOebkeWQrOeCueWHu+S6i+S7tg0KICAgIC8vIHRoaXMuJHJlZnMubW92ZXNjYXR0ZXJSaWdodC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZWxlYXZlIiwgX3RoaXMubGVhdmVzY2F0dGVyTW92ZSk7IC8vIOebkeWQrOeCueWHu+S6i+S7tg0KDQogIH0sDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmVUaW1lcik7DQogIH0sDQp9IA0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Scatter","sourcesContent":["<!-- eslint-disable no-unused-vars -->\r\n<!-- eslint-disable no-unused-vars -->\r\n\r\n<template>\r\n  <div class=\"scatter\" ref=\"scatterDiv\">\r\n    <div class=\"panelHead\">Performance View</div>\r\n    <div id=\"scatterCantain\" ref=\"scatterCantain\" class=\"panelBody\">\r\n    </div>\r\n\r\n    <div class=\"scatterTooltip toolTip\">\r\n      <p>\r\n          <br /><strong class=\"name toolTipAttr\"></strong>\r\n          <br /><strong class=\"text toolTipAttr\"></strong>\r\n          <br /><strong class=\"attr0 toolTipAttr\"></strong>\r\n          <br /><strong class=\"attr1 toolTipAttr\"></strong>\r\n          <br /><strong class=\"attr2 toolTipAttr\"></strong>\r\n          <br /><strong class=\"attr3 toolTipAttr\"></strong>\r\n          <br /><strong class=\"attr4 toolTipAttr\"></strong>\r\n        </p>\r\n    </div>\r\n    <div class=\"close\" ref=\"listen\">\r\n    </div>\r\n    <div id=\"addGroupDiv\" @click=\"addGroupClk\" ref=\"addBtn\">\r\n      <img class=\"icons\" :src=\"addGroupUrl\">\r\n    </div>\r\n    <div id=\"delGroupDiv\" @click=\"delGroupClk\" ref=\"addBtn\">\r\n      <img class=\"icons\" :src=\"delGroupUrl\">\r\n    </div>\r\n    <div id=\"confirmGroupDiv\" @click=\"confirmGroupClk\" ref=\"addBtn\">\r\n      <img class=\"icons\" :src=\"confirmGroupUrl\">\r\n    </div>\r\n    <!-- <div id=\"moveLeft\" ref=\"movescatterLeft\"></div>\r\n                    <div id=\"moveRight\" ref=\"movescatterRight\"></div> -->\r\n    <!-- <div id=\"assistscatterCantain\" class=\"panel\">\r\n        <div class=\"panelHead\"></div>\r\n      </div> -->\r\n    <!-- <div id=\"zoomInDiv\" @click=\"zoomInLayoutClk\">\r\n      <img class=\"icons\" :src=\"zoomInUrl\">\r\n    </div>\r\n    <div id=\"zoomOutDiv\" @click=\"zoomOutLayoutClk\">\r\n      <img class=\"icons\" :src=\"zoomOutUrl\">\r\n    </div>\r\n    <div id=\"editToolDiv\" @click=\"editToolClk\">\r\n      <img class=\"icons\" :src=\"editToolUrl\">\r\n    </div> -->\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport * as d3 from 'd3'\r\nimport { onMounted, ref } from 'vue';\r\nimport filenames from \"@/utils/fileName\";\r\nimport domtoimage from 'dom-to-image';\r\n// import TestJson from \"@/assets/json/case2_fin.json\";\r\n// import TestRelJson from \"@/assets/json/case2_fin_rel.json\";\r\nimport tools from \"@/utils/tools.js\";\r\nimport contour from \"@/utils/contour\";\r\n\r\nexport default {\r\n  props: [\"toolsState\"],\r\n  data() {\r\n    return {\r\n      data: '',\r\n      addGroupUrl: require(\"@/assets/img/addGroup.png\"),\r\n      delGroupUrl: require(\"@/assets/img/delGroup.png\"),\r\n      confirmGroupUrl: require(\"@/assets/img/confirmGroup.png\"),\r\n      scatterHeight: 0,\r\n      selectStartX: 0,\r\n      selectStartY: 0,\r\n      selectEndX: 0,\r\n      selectEndY: 0,\r\n      selectGroupId: -1,\r\n      selectGroup: [],\r\n      stuAttrList: [],\r\n      stuAttrMaxMinList: [],\r\n      SelectStudentList: [],\r\n      groupData: [],\r\n      selectClick: 0,\r\n      problemsData: [],\r\n      proSetOriData: [],\r\n      submissionsData: [],\r\n      studentsData: [],\r\n      conceptsData: [],\r\n      conceptTree: [],\r\n      proSetData: [],\r\n      interY: 10,\r\n      attrColorList: [],\r\n      problemConceptData: [],\r\n      userProblemData: [],\r\n      MaxMinX: [],\r\n      MaxMinY: [],\r\n      proAttrList: [],\r\n      proAttrMaxMinList: [],\r\n      conMaxMinDR: [],\r\n      conMaxMinDC: [],\r\n      conAttrList: [],\r\n      conAttrMaxMinList: [],\r\n      Ent_problem: [],\r\n      Ent_concept: [],\r\n      entG: \"\",\r\n      entSetG: \"\",\r\n      entbySetG: \"\",\r\n      relG: \"\",\r\n      curProblemId: '',\r\n      curConceptId: '',\r\n      curProblemSetId: '',\r\n      selectProblemId: '',\r\n      curConceptId: '',\r\n      selectConceptId: '',\r\n      proX: 500,\r\n      proY: 0,\r\n      setX: 800,\r\n      setY: 0,\r\n      treeX: 50,\r\n      treeY: 0,\r\n      proStepY: 0,\r\n      conStepY: 0,\r\n      rootSvg: null,\r\n      rootSvgf: null,\r\n      groupsSvg: null,\r\n      arcG: null,\r\n      backG: null,\r\n      scatterZoom: null,\r\n      jgDrag: true,\r\n      curEntId: '',\r\n      minDImportance: 0,\r\n      maxDImportance: 0,\r\n      minDRelevance: 0,\r\n      maxDRelevance: 0,\r\n      maxDDuration: 0,\r\n      maxTotalDuration: 0,\r\n      videoDuration: 672,\r\n      totalDuration: 1000,\r\n      importanceColor_linear: null,\r\n      importanceCompute_color: null,\r\n      relevanceScale_linear: null,\r\n      scatterGTransformK: 1,\r\n      scatterGTransformX: 0,\r\n      scatterGTransformY: 0,\r\n      scatterSvgScale: 1,\r\n      moveTimer: null,\r\n      moveFlag: false,\r\n      stuMinColor: \"rgb(255, 255, 255)\",\r\n      stuMaxColor: \"rgb(76, 141, 5)\",\r\n      stepX: 80,\r\n      stepY: 100,\r\n      typeXMap: {\r\n        \"TRUE_OR_FALSE\": 0,\r\n        \"MULTIPLE_CHOICE\": 1,\r\n        \"FILL_IN_THE_BLANK\": 2,\r\n        \"PROGRAMMING\": 3,\r\n        \"CODE_COMPLETION\": 4,\r\n        \"MULTIPLE_CHOICE_MORE_THAN_ONE_ANSWER\": 5\r\n      },\r\n      circleInterval: 55,\r\n      width: 0,\r\n      height: 0,\r\n      curToolState: 'unEdit',\r\n      margin: { top: 1, right: 2, bottom: 0, left: 2 },\r\n      stuColorList: [],\r\n      mcolor: [\r\n        \"rgb(255,60,60)\",\r\n        \"rgb(155,20,100)\",\r\n        \"rgb(255,83,255)\",\r\n        \"rgb(200,100,50)\",\r\n        \"rgb(235,135,162)\",\r\n        \"rgb(200,200,102)\",\r\n        \"rgb(255,178,101)\",\r\n        \"rgb(63,151,134)\",\r\n        \"rgb(83,155,255)\",\r\n        \"rgb(50,200,120)\",\r\n        \"rgb(2,50,200)\",\r\n        \"rgb(0,122,244)\",\r\n        \"rgb(150,122,244)\",\r\n        \"rgb(168,168,255)\",\r\n        \"rgb(200,200,200)\",\r\n      ],\r\n      mLigntcolor: [\r\n        \"#ff9c9c\",\r\n        \"#cc88b0\",\r\n        \"#ffa8ff\",\r\n        \"#e3b097\",\r\n        \"#f4c3d0\",\r\n        \"#f4f4d0\",\r\n        \"#ffd8b1\",\r\n        \"#9ecac2\",\r\n        \"#a8ccff\",\r\n        \"#97e3ba\",\r\n        \"#6f8be0\",\r\n        \"rgb(0,122,244)\",\r\n        \"#b6a2f7\",\r\n        \"rgb(168,168,255)\",\r\n        \"rgb(200,200,200)\",\r\n      ],\r\n      attrColorList:[\r\n      \"rgb(255, 77, 109)\",\r\n        \"rgb(255, 231, 32)\",\r\n        \"rgb(250, 210, 50)\",\r\n        \"rgb(255, 120, 90)\",\r\n        \"rgb(255, 159, 28)\",\r\n        \"rgb(6, 214, 160)\",\r\n        \"rgb(125, 98, 211)\",\r\n      ],\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    selectGroupId(val) {\r\n      const _this = this;\r\n      this.$refs.listen.addEventListener(\"mousedown\", _this.mouseDown);\r\n    },\r\n    groupsSvg: {\r\n      deep: true,\r\n      handler(val) {\r\n        var content = this.groupsSvg.html();\r\n        this.rootSvgf.html(content)\r\n        this.drawFigureAnnotation();\r\n      }\r\n    },\r\n    SelectStudentList: {\r\n      deep: true,\r\n      handler(val) {\r\n        let entG = this.entG;\r\n        this.updataScatter();\r\n        this.drawContour(entG);\r\n      }\r\n    },\r\n    selectGroup(val) {\r\n      const _this = this;\r\n      d3.selectAll(\".stuGroup\").remove();\r\n      let num = val.length;\r\n      let backG = _this.rootSvgf;\r\n      let colorList = _this.stuColorList;\r\n      for (let i = 0; i < num; i++) {\r\n        let cx = 20 + i * 40;\r\n        let cy = 500;\r\n        let r = 12;\r\n        let fill = colorList[i];\r\n        let opacity = 1;\r\n        let circle = _this.drawCircle(backG, cx, cy, r, \"white\", opacity, fill, 3, 'stuGroup', `stuGroup_${i}`);\r\n        circle.on(\"click\", function () {\r\n          d3.selectAll(`.stuGroup`).attr(\"opacity\", 0.1);\r\n          d3.select(this).attr(\"opacity\", 1);\r\n          let id = d3.select(this).attr(\"id\").split(\"_\")[1];\r\n          _this.selectGroupId = id;\r\n\r\n          d3.select(\".close\").classed(\"hidden\", false);\r\n        }).on(\"mouseover\", function () {\r\n          d3.selectAll(`.stuGroup`).attr(\"opacity\", 0.1);\r\n          d3.select(this).attr(\"opacity\", 1);\r\n          _this.$refs.listen.removeEventListener(\"mouseup\", _this.mouseUp);\r\n          _this.$refs.listen.removeEventListener(\"mousedown\", _this.mouseDown);\r\n          _this.jgDrag = false;\r\n        })\r\n      }\r\n    },\r\n    type(val) {\r\n    },\r\n  },\r\n  methods: {\r\n\r\n    addGroupClk() {\r\n      const _this = this;\r\n      let selectStuGroup = _this.selectGroup;\r\n      // if (selectStuGroup.length < 5)\r\n      //   selectStuGroup.push([]);\r\n      selectStuGroup = [[],[],[]]\r\n      _this.selectGroup = selectStuGroup;\r\n      // d3.select(`#addGroupDiv`)\r\n      // .attr(\"style\", function(){\r\n      //   return `right:${450-(selectStuGroup.length)*40}px`\r\n      // });\r\n    },\r\n    delGroupClk() {\r\n      const _this = this;\r\n      let selectStuGroup = _this.selectGroup;\r\n      if (selectStuGroup.length > 0)\r\n        selectStuGroup.pop();\r\n      _this.selectGroup = selectStuGroup;\r\n      // d3.select(`#addGroupDiv`)\r\n      // .attr(\"style\", function(){\r\n      //   return `right:${450-(selectStuGroup.length)*40}px`\r\n      // });\r\n    },\r\n    confirmGroupClk() {\r\n      const _this = this;\r\n      let selectStuGroup = _this.selectGroup;\r\n\r\n      this.$bus.$emit(\"SelectedStu\", _this.SelectStudentList);\r\n      // d3.select(`#addGroupDiv`)\r\n      // .attr(\"style\", function(){\r\n      //   return `right:${450-(selectStuGroup.length)*40}px`\r\n      // });\r\n    },\r\n\r\n    drawMain(svg) {\r\n      let _this = this;\r\n      let data = _this.data;\r\n      let margin = _this.margin;\r\n\r\n      let width = _this.width - margin.left - margin.right;\r\n      let height = _this.height - margin.top - margin.bottom;\r\n\r\n      let scatterGTransformX = _this.scatterGTransformX;\r\n      let scatterGTransformY = _this.scatterGTransformY;\r\n      let scatterGTransformK = _this.scatterGTransformK;\r\n\r\n      let groups = svg.append(\"g\").attr(\"id\", \"ggroups\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height)\r\n        .attr(\"transform\", \"translate(\" + scatterGTransformX + ',' + scatterGTransformY + \") scale(\" + scatterGTransformK + \")\");\r\n      this.groupsSvg = groups;\r\n\r\n      let backG = groups.append(\"g\").attr(\"id\", \"gbackG\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let arcG = groups.append(\"g\").attr(\"id\", \"garcG\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let relG = groups.append(\"g\").attr(\"id\", \"grelG\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let entSetG = groups.append(\"g\").attr(\"id\", \"gentSetG\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let entbySetG = groups.append(\"g\").attr(\"id\", \"gentbySetG\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let entG = groups.append(\"g\").attr(\"id\", \"gentG\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n      let frontG = groups.append(\"g\").attr(\"id\", \"gfrontG\").attr(\"class\", \"groups\").attr(\"width\", width).attr(\"height\", height);\r\n\r\n      let MaxMinX = _this.MaxMinX;\r\n      let MaxMinY = _this.MaxMinY;\r\n\r\n      let xSize_linear = d3.scaleLinear().domain([MaxMinX[1], MaxMinX[0]]).range([30, width - 30]);\r\n      let ySize_linear = d3.scaleLinear().domain([MaxMinY[1], MaxMinY[0]]).range([30, height - 30]);\r\n\r\n      _this.arcG = arcG;\r\n      _this.entG = entG;\r\n      _this.entSetG = entSetG;\r\n      _this.entbySetG = entbySetG;\r\n      _this.relG = relG;\r\n      _this.backG = backG;\r\n      _this.scatterZoom = scatterZoom;\r\n      let copyg = _this.rootSvgf.select(\"#ggroups\");\r\n      let interval = _this.circleInterval;\r\n\r\n\r\n\r\n      let scalePre = _this.scatterSvgScale;\r\n      let stx = 0;\r\n      let sty = 0;\r\n      let stk = 1;\r\n      var scatterZoom = d3.zoom()\r\n        .scaleExtent([0, 100])\r\n        .on(\"start\", (e) => {\r\n          if (_this.jgDrag) {\r\n            sty = e.transform.y;\r\n            stx = e.transform.x;\r\n            stk = e.transform.k;\r\n          }\r\n        })\r\n        .on('zoom', (e) => {\r\n          if (_this.jgDrag) {\r\n            scatterGTransformX = _this.scatterGTransformX + e.transform.x - stx;\r\n            scatterGTransformY = _this.scatterGTransformY + e.transform.y - sty;\r\n            scatterGTransformK = _this.scatterGTransformK + e.transform.k - stk;\r\n            groups.attr('transform', 'translate(' + (scatterGTransformX) + ',' + (scatterGTransformY) + ') scale(' + (scatterGTransformK) + ')')\r\n            _this.rootSvgf.selectAll(\".groups\").attr('transform', 'translate(' + (scatterGTransformX) + ',' + (scatterGTransformY) + ') scale(' + (scatterGTransformK) + ')')\r\n          }\r\n        })\r\n        .on('end', (e) => {\r\n          if (_this.jgDrag) {\r\n            _this.scatterGTransformX = scatterGTransformX;\r\n            _this.scatterGTransformY = scatterGTransformY;\r\n            _this.scatterGTransformK = scatterGTransformK;\r\n            groups.attr('transform', 'translate(' + (scatterGTransformX) + ',' + (scatterGTransformY) + ') scale(' + (scatterGTransformK) + ')')\r\n            _this.groupsSvg = groups;\r\n          }\r\n        });\r\n\r\n      svg.call(scatterZoom);\r\n      d3.select(\".close\").classed(\"hidden\", true);\r\n      d3.select(\".scatterTooltip\").classed(\"hidden\", true);\r\n      // svg.call(d3.zoom().on('start', null).on('zoom',null).on('end', null))\r\n\r\n      let attrList = _this.stuAttrList;\r\n      let stuAttrMaxMinList = _this.stuAttrMaxMinList;\r\n\r\n      let rSize_linear = d3.scaleLinear().domain([stuAttrMaxMinList[1][1], stuAttrMaxMinList[1][0]]).range([3, 8]);\r\n\r\n      let stuMaxColor = _this.stuMaxColor;\r\n      let stuMinColor = _this.stuMinColor;\r\n      let stuColor_linear = d3.scaleLinear().domain([stuAttrMaxMinList[1][1], stuAttrMaxMinList[1][0]]).range([0, 1]);\r\n      let stuCompute_color = d3.interpolate(stuMinColor, stuMaxColor);\r\n\r\n      let groupData = tools.deepClone(_this.groupData);\r\n      let colorList = _this.mcolor;\r\n      for (let i = 0; i < groupData.length; i++) {\r\n        let cx = xSize_linear(groupData[i]['x']);\r\n        let cy = ySize_linear(groupData[i]['y']);\r\n        let sId = groupData[i]['id']\r\n        groupData[i]['cx'] = cx;\r\n        groupData[i]['cy'] = cy;\r\n        groupData[i]['r'] = rSize_linear(groupData[i][attrList[1]]);\r\n        groupData[i]['fill'] = stuCompute_color(stuColor_linear(groupData[i][attrList[1]])) //'grey'//colorList[parseInt(groupData[i]['kmeansC'])];\r\n      }\r\n      _this.groupData = groupData;\r\n      _this.updataScatter();\r\n    },\r\n\r\n    drawTxt(svg, x, y, text, fill, fontsize = 12, idN, an = 'start') {\r\n      let txt = svg.append(\"text\")\r\n        .attr(\"y\", y)\r\n        .attr(\"x\", x)\r\n        .attr(\"id\", idN)\r\n        .attr(\"fill\", fill)\r\n        .attr(\"font-size\", fontsize)\r\n        .style(\"text-anchor\", an)\r\n        .text(text)\r\n      return txt;\r\n    },\r\n    drawFigureAnnotation() {\r\n      const _this = this;\r\n      let frontG = _this.rootSvgf;\r\n\r\n      let stuMaxColor = _this.stuMaxColor;\r\n      let stuMinColor = _this.stuMinColor;\r\n\r\n      let len = 6;\r\n\r\n      let Color_linear = d3.scaleLinear().domain([0, len]).range([0, 1]);\r\n      let Rsize_linear = d3.scaleLinear().domain([0, len]).range([1, 6]);\r\n      let Compute_color = d3.interpolate(stuMinColor, stuMaxColor);\r\n\r\n      let textsr = _this.drawTxt(frontG, 6, 15, \"BestScoreingRate:\", \"black\", 10, `FigScater_con`);\r\n      let textat = _this.drawTxt(frontG, 6, 45, \"Attempts:\", \"black\", 10, `FigScater_con`);\r\n      let textbs = _this.drawTxt(frontG, 6, 75, \"ScoreingRate:\", \"black\", 10, `FigScater_con`);\r\n      let prex = 0;\r\n      let prerx = 0;\r\n      let colorSR = _this.attrColorList[0];\r\n      let colorBestS = _this.attrColorList[1];\r\n      let colorAttempts = _this.attrColorList[2];\r\n\r\n      _this.drawRect(frontG, 10, 58, 40, 5, 0, \"rgb(230,230,230)\", \"1\", \"grey\", \"1\", `FigScater_conRectColorB`, 'FigScater');\r\n      _this.drawRect(frontG, 10, 58, 30, 5, 0, colorAttempts, \"1\", \"grey\", \"1\", `FigScater_conRectColor`, 'FigScater');\r\n\r\n      _this.drawRect(frontG, 10, 88, 40, 5, 0, \"rgb(230,230,230)\", \"1\", \"grey\", \"1\", `FigScater_conRectB`, 'FigScater');\r\n      _this.drawRect(frontG, 10, 88, 30, 5, 0, colorSR, \"1\", \"grey\", \"1\", `FigScater_conRect`, 'FigScater');\r\n\r\n      let path1 = d3.path();\r\n      let points = [[10, 50], [10, 54], [14, 50], [10, 54], [14, 58], [10, 54], [10, 58], [10, 54], [40, 54], [40, 54], [36, 50], [40, 54], [36, 58], [40, 54], [40, 50], [40, 58]]\r\n      let points2 = [[10, 80], [10, 84], [14, 80], [10, 84], [14, 88], [10, 84], [10, 88], [10, 84], [40, 84], [40, 84], [36, 80], [40, 84], [36, 88], [40, 84], [40, 80], [40, 88]]\r\n      let curve_generator = d3.line()\r\n        .x((d) => d[0])\r\n        .y((d) => d[1])\r\n      // .curve(d3.curveBasisClosed)\r\n      _this.drawLine(frontG, curve_generator(points), \"black\", 1, '0', '1', `line1`, 'FigScater_line1', \"rgb(230,230,230)\");\r\n      _this.drawLine(frontG, curve_generator(points2), \"black\", 1, '0', '1', `line2`, 'FigScater_line1', \"rgb(230,230,230)\");\r\n      for (let i = 0; i < len * 3; i++) {\r\n      }\r\n      for (let i = 0; i < len; i++) {\r\n        let color = Compute_color(Color_linear(i));\r\n        let circle = _this.drawCircle(frontG, 15 + prex, 23, Rsize_linear(i), color, 1, \"none\", \"1\", 'FigScater', `FigScater_conColor${i}`);\r\n        prex += Rsize_linear(i) * 2 + 4;\r\n        prerx += i * 4 + 2;\r\n      }\r\n\r\n    },\r\n    drawContour(svg) {\r\n      const _this = this;\r\n      d3.selectAll(\".counter\").remove();\r\n      let groupData = tools.deepClone(_this.groupData);\r\n      let SelectStudentList = _this.SelectStudentList;\r\n      let nodesList = [\r\n        [], [], [], [], []\r\n      ]\r\n      for (let i = 0; i < SelectStudentList.length; i++) {\r\n        for (let j = 0; j < SelectStudentList[i].length; j++) {\r\n          let stuD = groupData.find(function (s) { return s['id'] == SelectStudentList[i][j] });\r\n          let stuTemp = {\r\n            x: stuD['cx'],\r\n            y: stuD['cy'],\r\n            r: stuD['r'] + 6 * 3 - 3\r\n          }\r\n          nodesList[i].push(stuTemp);\r\n        }\r\n      }\r\n      let colorList = _this.stuColorList;\r\n      // for(let i=0;i<groupData.length;i++){\r\n      //   let sId = groupData[i]['id']\r\n      //     nodesList[parseInt(groupData[i]['kmeansC'])].push({\r\n      //       x:groupData[i]['cx'],\r\n      //       y:groupData[i]['cy'],\r\n      //       r:groupData[i]['r']\r\n      //     })\r\n      // }\r\n      let k = 0;\r\n      nodesList.forEach(nodeList => {\r\n        let path = contour(nodeList, 80);\r\n        let contourData = _this.arcsToPaths(path)\r\n        contourData.forEach(contourD => {\r\n          svg.append(\"path\")\r\n            .attr(\"class\", \"counter\")\r\n            .attr(\"d\", function () { return contourD.d; })\r\n            .style(\"stroke\", colorList[parseInt(k)])\r\n            .style(\"stroke-width\", 3)\r\n            .style(\"opacity\", 1)\r\n            // .attr(\"stroke-dasharray\", \"3\")\r\n            // .attr(\"stroke-dashoffset\", \"30\")\r\n            .attr(\"transform\", function () { return contourD.transform; });\r\n        })\r\n        k++;\r\n      })\r\n\r\n    },\r\n    drawPolygon(svg, points, idName, strokeWidth, stroke, fill) {\r\n      let polygon = svg.append(\"polygon\")\r\n        .attr(\"points\", points)\r\n        .attr(\"id\", idName)\r\n        .attr(\"stroke-linejoin\", \"round\")\r\n\r\n        .attr(\"stroke-width\", strokeWidth)\r\n        .attr(\"fill\", fill)\r\n        .attr(\"stroke\", stroke)\r\n      return polygon;\r\n    },\r\n    arcsToPaths(arcs) {\r\n      let paths = [];\r\n      let arcGen = d3.arc();\r\n\r\n      arcs.forEach(function (arc) {\r\n        let startAngleTemp = arc.startAngle;\r\n\r\n        if (startAngleTemp > arc.endAngle) {\r\n          startAngleTemp -= 2 * Math.PI;\r\n        }\r\n\r\n        paths.push({\r\n          d: arcGen({\r\n            innerRadius: arc.radius,\r\n            outerRadius: arc.radius,\r\n            startAngle: startAngleTemp,\r\n            endAngle: arc.endAngle\r\n          }),\r\n          transform: \"translate(\" + arc.center.x + \",\" + arc.center.y + \")\"\r\n        });\r\n      });\r\n\r\n      return paths;\r\n    },\r\n    drawCircle(svg, x, y, r, fill, opacity, stroke, width, className = 'entCircle', idName) {\r\n      const _this = this;\r\n\r\n      d3.select(`#${idName}`).remove();\r\n      let circle = svg.append(\"circle\")\r\n        .attr(\"id\", idName)\r\n        .attr(\"class\", className)\r\n        .attr(\"opacity\", opacity)\r\n        .attr(\"cx\", x)\r\n        .attr(\"cy\", y)\r\n        .attr(\"r\", r)\r\n        .attr('stroke', stroke)\r\n        .attr('stroke-width', width)\r\n        .attr(\"fill\", fill)\r\n      return circle;\r\n    },\r\n\r\n    drawLine(svg, path, stroke, width, stroke_dasharray = \"0\", opacity, idName, className, fill = 'none') {\r\n      d3.select(`#${idName}`).remove();\r\n      let line = svg.append('path')\r\n        .attr('d', path.toString())\r\n        .attr('stroke', stroke)\r\n        .attr('class', className)\r\n        .attr('id', idName)\r\n        .attr(\"stroke-dasharray\", stroke_dasharray)\r\n        .attr('stroke-width', width)\r\n        .style(\"stroke-opacity\", opacity)\r\n        .attr('fill', fill)\r\n      return line;\r\n    },\r\n    getMaxMin(data, attrname) {\r\n      return [\r\n        Math.max.apply(Math, data.map(function (d) { return d[attrname]; })),\r\n        Math.min.apply(Math, data.map(function (d) { return d[attrname]; }))\r\n      ]\r\n    },\r\n    mouseDown(event) {\r\n      const _this = this;\r\n      _this.jgDrag = false;\r\n      let entG = _this.entG\r\n      let sx = event.layerX - _this.scatterGTransformX;\r\n      let sy = event.layerY - _this.scatterGTransformY;\r\n      _this.selectStartX = sx;\r\n      _this.selectStartY = sy;\r\n      // _this.drawRect(entG, sx, sy, 100, 100, 10, \"grey\", \"5\", \"none\",\"0.1\", `SelectRect`, 'SelectRect');\r\n      this.$refs.listen.addEventListener(\"mousemove\", _this.mouseMove);\r\n    },\r\n    mouseMove(event) {\r\n      const _this = this;\r\n      let entG = _this.entG\r\n      let tx = event.layerX - _this.scatterGTransformX;\r\n      let ty = event.layerY - _this.scatterGTransformY;\r\n\r\n      _this.selectEndX = tx;\r\n      _this.selectEndY = ty;\r\n      let sx = _this.selectStartX;\r\n      let sy = _this.selectStartY;\r\n\r\n\r\n      let minx = sx < tx ? sx : tx;\r\n      let miny = sy < ty ? sy : ty;\r\n      let maxx = sx > tx ? sx : tx;\r\n      let maxy = sy > ty ? sy : ty;\r\n      _this.drawRect(entG, minx, miny, maxx - minx, maxy - miny, 10, \"grey\", \"5\", \"none\", \"0.1\", `SelectRect`, 'SelectRect');\r\n      this.$refs.listen.addEventListener(\"mouseup\", _this.mouseUp);\r\n      // this.$refs.scatterC.addEventListener(\"mousedown\", _this.mouseDown);\r\n    },\r\n    mouseUp(event) {\r\n      const _this = this;\r\n      this.$refs.listen.removeEventListener(\"mousemove\", _this.mouseMove);\r\n      _this.jgDrag = true;\r\n\r\n      d3.select(\".close\").classed(\"hidden\", true);\r\n      this.getSelectStudentList();\r\n      // this.$refs.scatterCantain.removeEventL(\"mouseup\", _this.mouseUp);\r\n      // this.$refs.scatterC.addEventListener(\"mousedown\", _this.mouseDown);\r\n    },\r\n    getSelectStudentList() {\r\n      const _this = this;\r\n      let temp = tools.deepClone(_this.SelectStudentList);\r\n      let groupData = _this.groupData;\r\n      let sx = _this.selectStartX;\r\n      let sy = _this.selectStartY;\r\n      let tx = _this.selectEndX;\r\n      let ty = _this.selectEndY;\r\n      _this.selectStartX = 0;\r\n      _this.selectStartY = 0;\r\n      _this.selectEndX = 0;\r\n      _this.selectEndY = 0;\r\n      let minx = sx < tx ? sx : tx;\r\n      let miny = sy < ty ? sy : ty;\r\n      let maxx = sx > tx ? sx : tx;\r\n      let maxy = sy > ty ? sy : ty;\r\n      let SelectStudentList = [];\r\n      let BuSelectStudentList = [];\r\n      for (let i = 0; i < groupData.length; i++) {\r\n        let cx = groupData[i]['cx'];\r\n        let cy = groupData[i]['cy'];\r\n        let sId = groupData[i]['id'];\r\n        if (((cx > minx) && (cx < maxx)) && ((cy > miny) && (cy < maxy))) {\r\n          let jg = 0;\r\n          temp.forEach(t => {\r\n            t.forEach(s => {\r\n              if (s == sId)\r\n                jg = 1;\r\n            })\r\n          })\r\n          if (jg == 0)\r\n            SelectStudentList.push(sId);\r\n          \r\n        }\r\n        else{\r\n          let jg = 0;\r\n          temp.forEach(t => {\r\n            t.forEach(s => {\r\n              if (s == sId)\r\n                jg = 1;\r\n            })\r\n          })\r\n          if (jg == 0)\r\n            BuSelectStudentList.push(sId);\r\n        }\r\n      }\r\n      let selectGroupId = _this.selectGroupId;\r\n      temp[selectGroupId] = SelectStudentList;\r\n      if((selectGroupId == 1)){\r\n        temp[2] = BuSelectStudentList;\r\n      }\r\n      _this.SelectStudentList = temp;\r\n    },\r\n    drawRect(svg, x, y, w, h, rx, fill, strokeWidth, stroke, opacity, idName, className) {\r\n      d3.select(`#${idName}`).remove();\r\n      let rect = svg.append(\"rect\")\r\n        .attr(\"x\", x)\r\n        .attr(\"y\", y)\r\n        .attr(\"width\", w)\r\n        .attr(\"height\", h)\r\n        .attr(\"id\", idName)\r\n        .attr(\"class\", className)\r\n        .attr(\"opacity\", opacity)\r\n        .attr(\"fill\", fill)\r\n        .attr(\"rx\", rx)\r\n        .attr(\"stroke\", stroke)\r\n        .attr(\"stroke-width\", strokeWidth)\r\n      return rect;\r\n    },\r\n    updataScatter() {\r\n      const _this = this;\r\n      let entG = _this.entG;\r\n      let groupData = _this.groupData;\r\n      let SelectStudentList = _this.SelectStudentList;\r\n      for (let i = 0; i < groupData.length; i++) {\r\n        let cx = groupData[i]['cx'];\r\n        let cy = groupData[i]['cy'];\r\n        let r = groupData[i]['r']\r\n        let sId = groupData[i]['id']\r\n        let fill = groupData[i]['fill'];\r\n        let opacity = 1;\r\n        // if(SelectStudentList.indexOf(sId)!=-1){\r\n        //   opacity = 1;\r\n        // }\r\n        _this.drawCircle(entG, cx, cy, r, fill, opacity, \"grey\", \"0\", 'entStu', `entStu_${sId}`);\r\n        let stuAttrList = _this.stuAttrList;\r\n        let stuAttrMaxMinList = _this.stuAttrMaxMinList;\r\n        let attrLen = stuAttrList.length;\r\n        let colorList = _this.attrColorList;\r\n        let starR = 0;//-Math.PI/2;\r\n        let stepH = 7;\r\n        let perh = r;\r\n        for (let j = 0; j < attrLen; j++) {\r\n          if (stuAttrList[j] == 'bestScore') {\r\n\r\n          }\r\n          else if (stuAttrList[j] == 'acceptedNum') {\r\n\r\n          }\r\n          else {\r\n            let Angle_linear = d3.scaleLinear().domain([0, stuAttrMaxMinList[j][0]]).range([0, Math.PI * 2]);\r\n            let h = perh + stepH;\r\n            var dataset = { startAngle: starR, endAngle: starR + Angle_linear(groupData[i][stuAttrList[j]]) }; //创建一个弧生成器\r\n            var datasetB = { startAngle: starR, endAngle: starR + Math.PI * 2 }; //创建一个弧生成器\r\n            var arcPath = d3.arc()\r\n              .innerRadius(perh)\r\n              .outerRadius(h - 1);\r\n            var arcPathBack = d3.arc()\r\n              .innerRadius(1)\r\n              .outerRadius(h + 2);\r\n            perh = h;\r\n            var pathArc = arcPath(dataset);\r\n            var pathArcB = arcPath(datasetB);\r\n            let entColor = colorList[j];//importanceCompute_color(importanceColor_linear(curEnt['scoringRate']));\r\n            // _this.drawArc(entG, 0, 0, arcPathBack(dataset), \"#000\", \"#000\", 'type', 0, 3);\r\n            _this.drawArc(entG, cx, cy, pathArcB, fill, \"rgb(230,230,230)\", 'typeB', `stuAttrB_${sId}_${j}`, 0, 0);\r\n            _this.drawArc(entG, cx, cy, pathArc, entColor, entColor, 'type', `stuAttr_${sId}_${j}`, 0, 0);\r\n          }\r\n        }\r\n\r\n        let circle = _this.drawCircle(entG, cx, cy, 25, fill, 0, \"grey\", \"0\", 'entStuF', `entStuF_${sId}_${i}`);\r\n        circle.on(\"mousemove\", function (d) {\r\n          let ts = d3.select(this);\r\n          let id = ts.attr(\"id\").split(\"_\")[1];\r\n          _this.overScatterStuId = id;\r\n\r\n          _this.$bus.$emit(\"SelectingStu\", _this.overScatterStuId);\r\n\r\n          let idod = ts.attr(\"id\").split(\"_\")[2];\r\n          let clasN = ts.attr(\"class\");\r\n          let nametext = '';\r\n          let ent = groupData.find(function (c) { return c['id'] == id });\r\n          var yPosition = d.clientY + 20;\r\n          var xPosition = d.clientX + 20;\r\n          \r\n          if(d.clientX>2100){\r\n            xPosition = d.clientX - 210;\r\n          }\r\n          let srtext = ent['scoringRate'];\r\n          let totalAttemptsTxt = ent['totalAttempts'];\r\n          let bestScore = ent['bestScore']\r\n          var scatterTooltip = d3\r\n            .select(\".scatterTooltip\")\r\n            .style(\"left\", xPosition + \"px\")\r\n            .style(\"top\", yPosition + \"px\");\r\n          // 更新浮层内容\r\n          let attr = ['scoringRate', 'totalAttempts','bestScore'];\r\n          let attrN = ['Scoring Rate', 'Attempts', 'bestScoreRate', 'Rel Count'];\r\n          // 更新浮层内容\r\n          for (let a = 0; a < attr.length; a++) {\r\n\r\n            scatterTooltip.select(`.attr${a}`).text(`${attrN[a]} : ${ent[attr[a]]}`)\r\n            if(attrN[a] == 'Scoring Rate')\r\n              scatterTooltip.select(`.attr${a}`).text(`${attrN[a]} : ${ent[attr[a]].toFixed(2)}`)\r\n          }\r\n          scatterTooltip.select(\".name\").text(`Student${i+1}`);\r\n          // 移除浮层hidden样式，展示浮层\r\n          scatterTooltip.classed(\"hidden\", false);\r\n        }).on(\"mouseleave\", function (d) {\r\n          _this.$bus.$emit(\"SelectingStu\", \"\");\r\n          d3.select(\".scatterTooltip\").classed(\"hidden\", true);\r\n        })\r\n      }\r\n    },\r\n\r\n    drawArc(svg, x, y, arcPath, stroke, fill, className, idN, stroke_dasharray = \"0\", width = 3) {\r\n      d3.select(`#${idN}`).remove();\r\n      svg.append(\"path\")\r\n        .attr(\"d\", arcPath)\r\n        .attr(\"class\", className)\r\n        .attr(\"id\", idN)\r\n        .attr(\"transform\", \"translate(\" + x + \",\" + y + \")\")\r\n        .attr(\"stroke\", stroke)\r\n        .attr('stroke-width', width)\r\n        .attr(\"stroke-dasharray\", stroke_dasharray)\r\n        .attr(\"stroke-linejoin\", \"round\")\r\n        .attr(\"fill\", fill)\r\n    },\r\n    updataAll() {\r\n      var _this = this;\r\n      let margin = _this.margin\r\n      let width = _this.$refs.scatterDiv.offsetWidth - margin.left - margin.right;\r\n      let height = document.getElementById(\"scatterCantain\").clientHeight - margin.top - margin.bottom;\r\n      _this.width = width;\r\n      _this.height = height;\r\n      d3.select(\"#scatterCantain\").select(\"svg\").remove()\r\n      var svg = d3.select(\"#scatterCantain\").append(\"svg\")\r\n        .attr(\"width\", width - 0)\r\n        .attr(\"height\", height - 50)\r\n        .attr('transform', 'translate(0,0)')\r\n        .style(\"position\", \"absolute\");\r\n\r\n      var svgf = d3.select(\"#scatterCantain\").append(\"svg\")\r\n        .attr(\"width\", width)\r\n        .attr(\"height\", height)\r\n      _this.rootSvg = svg;\r\n      _this.rootSvgf = svgf;\r\n\r\n      _this.rootSvgFig = svg;\r\n      let data = _this.groupData;\r\n      let MaxMinX = _this.getMaxMin(data, 'x');\r\n      let MaxMinY = _this.getMaxMin(data, 'y');\r\n\r\n      let stuAttrList = ['scoringRate', 'bestScore', 'totalAttempts', 'acceptedNum']//,'time']\r\n      _this.stuAttrList = stuAttrList;\r\n      let stuAttrMaxMinList = [];\r\n\r\n      for (let i = 0; i < stuAttrList.length; i++) {\r\n        stuAttrMaxMinList.push(_this.getMaxMin(data, stuAttrList[i]));\r\n      }\r\n      _this.stuAttrMaxMinList = stuAttrMaxMinList;\r\n\r\n      _this.MaxMinX = MaxMinX;\r\n      _this.MaxMinY = MaxMinY;\r\n\r\n      _this.drawMain(svg);\r\n      // });\r\n    },\r\n  },\r\n  created() {\r\n    var _this = this;\r\n    let margin = _this.margin\r\n    this.$nextTick(() => {\r\n    });\r\n  },\r\n  mounted() {\r\n    const _this = this;\r\n\r\n    d3.select(\".scatterTooltip\").classed(\"hidden\", true);\r\n    this.$bus.$on('groupData', (val) => {\r\n      _this.groupData = val;\r\n      this.updataAll();\r\n    });\r\n\r\n    // this.$bus.$on('attrColorList', (val) => {_this.attrColorList = val;});\r\n    this.$bus.$on('stuColorList', (val) => { _this.stuColorList = val; });\r\n    // this.$refs.scatterCantain.addEventListener(\"mousedown\", _this.mouseDown); // 监听点击事件\r\n    // this.$refs.movescatterRight.addEventListener(\"mousemove\", _this.movescatterRight); // 监听点击事件\r\n    // this.$refs.movescatterLeft.addEventListener(\"mouseleave\", _this.leavescatterMove); // 监听点击事件\r\n    // this.$refs.movescatterRight.addEventListener(\"mouseleave\", _this.leavescatterMove); // 监听点击事件\r\n\r\n  },\r\n  beforeDestroy() {\r\n    clearInterval(this.moveTimer);\r\n  },\r\n} \r\n</script>\r\n\r\n<style>@import './index.css';</style>\r\n"]}]}